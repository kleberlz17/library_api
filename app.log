2025-03-11T00:48:37.332-03:00  INFO 16340 --- [libraryapi] [main] k.libraryapi.LibraryapiApplication       : Starting LibraryapiApplication using Java 21.0.2 with PID 16340 (C:\Users\Junior\Desktop\especialista--springboot\libraryapi\target\classes started by Junior in C:\Users\Junior\Desktop\especialista--springboot\libraryapi)
2025-03-11T00:48:37.336-03:00  INFO 16340 --- [libraryapi] [main] k.libraryapi.LibraryapiApplication       : No active profile set, falling back to 1 default profile: "default"
2025-03-11T00:48:38.593-03:00  INFO 16340 --- [libraryapi] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-11T00:48:38.686-03:00  INFO 16340 --- [libraryapi] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 84 ms. Found 4 JPA repository interfaces.
2025-03-11T00:48:39.654-03:00  INFO 16340 --- [libraryapi] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-11T00:48:39.671-03:00  INFO 16340 --- [libraryapi] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-11T00:48:39.672-03:00  INFO 16340 --- [libraryapi] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-03-11T00:48:39.793-03:00  INFO 16340 --- [libraryapi] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-11T00:48:39.793-03:00  INFO 16340 --- [libraryapi] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2391 ms
2025-03-11T00:48:39.857-03:00  WARN 16340 --- [libraryapi] [main] com.zaxxer.hikari.HikariConfig           : library-db-pool - idleTimeout is close to or more than maxLifetime, disabling it.
2025-03-11T00:48:39.867-03:00  INFO 16340 --- [libraryapi] [main] com.zaxxer.hikari.HikariDataSource       : library-db-pool - Starting...
2025-03-11T00:48:40.968-03:00 ERROR 16340 --- [libraryapi] [main] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtCustomAuthenticationFilter' defined in file [C:\Users\Junior\Desktop\especialista--springboot\libraryapi\target\classes\kleberlz\libraryapi\security\JwtCustomAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'usuarioService' defined in file [C:\Users\Junior\Desktop\especialista--springboot\libraryapi\target\classes\kleberlz\libraryapi\service\UsuarioService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'usuarioRepository' defined in kleberlz.libraryapi.repository.UsuarioRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
2025-03-11T00:48:40.996-03:00  INFO 16340 --- [libraryapi] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-03-11T00:48:41.025-03:00  WARN 16340 --- [libraryapi] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-03-11T00:48:41.035-03:00  INFO 16340 --- [libraryapi] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-11T00:48:41.132-03:00 ERROR 16340 --- [libraryapi] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:619) ~[spring-context-6.1.13.jar:6.1.13]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:335) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1363) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1352) ~[spring-boot-3.3.4.jar:3.3.4]
	at kleberlz.libraryapi.LibraryapiApplication.main(LibraryapiApplication.java:17) ~[classes/:na]
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:147) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:516) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:222) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:188) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162) ~[spring-boot-3.3.4.jar:3.3.4]
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtCustomAuthenticationFilter' defined in file [C:\Users\Junior\Desktop\especialista--springboot\libraryapi\target\classes\kleberlz\libraryapi\security\JwtCustomAuthenticationFilter.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'usuarioService' defined in file [C:\Users\Junior\Desktop\especialista--springboot\libraryapi\target\classes\kleberlz\libraryapi\service\UsuarioService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'usuarioRepository' defined in kleberlz.libraryapi.repository.UsuarioRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:211) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:174) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:169) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:154) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:87) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:266) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:240) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52) ~[spring-boot-3.3.4.jar:3.3.4]
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4412) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:415) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128) ~[spring-boot-3.3.4.jar:3.3.4]
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'usuarioService' defined in file [C:\Users\Junior\Desktop\especialista--springboot\libraryapi\target\classes\kleberlz\libraryapi\service\UsuarioService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'usuarioRepository' defined in kleberlz.libraryapi.repository.UsuarioRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:237) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1375) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1212) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782) ~[spring-beans-6.1.13.jar:6.1.13]
	... 54 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'usuarioRepository' defined in kleberlz.libraryapi.repository.UsuarioRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Cannot resolve reference to bean 'jpaSharedEM_entityManagerFactory' while setting bean property 'entityManager'
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1705) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1454) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782) ~[spring-beans-6.1.13.jar:6.1.13]
	... 68 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaSharedEM_entityManagerFactory': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:682) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1355) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1185) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365) ~[spring-beans-6.1.13.jar:6.1.13]
	... 82 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0: Error creating bean with name 'hikariDataSource' defined in class path resource [kleberlz/libraryapi/config/DatabaseConfiguration.class]: Failed to instantiate [javax.sql.DataSource]: Factory method 'hikariDataSource' threw exception with message: Failed to initialize pool: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:795) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:542) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1355) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1185) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365) ~[spring-beans-6.1.13.jar:6.1.13]
	... 94 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'hikariDataSource' defined in class path resource [kleberlz/libraryapi/config/DatabaseConfiguration.class]: Failed to instantiate [javax.sql.DataSource]: Factory method 'hikariDataSource' threw exception with message: Failed to initialize pool: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:648) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:485) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1355) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1185) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1443) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1353) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:904) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:782) ~[spring-beans-6.1.13.jar:6.1.13]
	... 106 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'hikariDataSource' threw exception with message: Failed to initialize pool: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:178) ~[spring-beans-6.1.13.jar:6.1.13]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:644) ~[spring-beans-6.1.13.jar:6.1.13]
	... 120 common frames omitted
Caused by: com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at com.zaxxer.hikari.pool.HikariPool.throwPoolInitializationException(HikariPool.java:584) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:571) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:98) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.HikariDataSource.<init>(HikariDataSource.java:80) ~[HikariCP-5.1.0.jar:na]
	at kleberlz.libraryapi.config.DatabaseConfiguration.hikariDataSource(DatabaseConfiguration.java:50) ~[classes/:na]
	at kleberlz.libraryapi.config.DatabaseConfiguration$$SpringCGLIB$$0.CGLIB$hikariDataSource$0(<generated>) ~[classes/:na]
	at kleberlz.libraryapi.config.DatabaseConfiguration$$SpringCGLIB$$FastClass$$1.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.1.13.jar:6.1.13]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:348) ~[spring-context-6.1.13.jar:6.1.13]
	at kleberlz.libraryapi.config.DatabaseConfiguration$$SpringCGLIB$$0.hikariDataSource(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:146) ~[spring-beans-6.1.13.jar:6.1.13]
	... 121 common frames omitted
Caused by: org.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:352) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:273) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.Driver.makeConnection(Driver.java:446) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.Driver.connect(Driver.java:298) ~[postgresql-42.7.4.jar:42.7.4]
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:137) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:360) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:461) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:550) ~[HikariCP-5.1.0.jar:na]
	... 132 common frames omitted
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592) ~[na:na]
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:751) ~[na:na]
	at org.postgresql.core.PGStream.createSocket(PGStream.java:260) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.core.PGStream.<init>(PGStream.java:121) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:140) ~[postgresql-42.7.4.jar:42.7.4]
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:268) ~[postgresql-42.7.4.jar:42.7.4]
	... 141 common frames omitted

2025-03-11T00:51:37.467-03:00  INFO 11280 --- [libraryapi] [main] k.libraryapi.LibraryapiApplication       : Starting LibraryapiApplication using Java 21.0.2 with PID 11280 (C:\Users\Junior\Desktop\especialista--springboot\libraryapi\target\classes started by Junior in C:\Users\Junior\Desktop\especialista--springboot\libraryapi)
2025-03-11T00:51:37.470-03:00  INFO 11280 --- [libraryapi] [main] k.libraryapi.LibraryapiApplication       : No active profile set, falling back to 1 default profile: "default"
2025-03-11T00:51:38.634-03:00  INFO 11280 --- [libraryapi] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-11T00:51:38.723-03:00  INFO 11280 --- [libraryapi] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 79 ms. Found 4 JPA repository interfaces.
2025-03-11T00:51:39.669-03:00  INFO 11280 --- [libraryapi] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-11T00:51:39.688-03:00  INFO 11280 --- [libraryapi] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-11T00:51:39.688-03:00  INFO 11280 --- [libraryapi] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-03-11T00:51:39.793-03:00  INFO 11280 --- [libraryapi] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-11T00:51:39.793-03:00  INFO 11280 --- [libraryapi] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2267 ms
2025-03-11T00:51:39.852-03:00  WARN 11280 --- [libraryapi] [main] com.zaxxer.hikari.HikariConfig           : library-db-pool - idleTimeout is close to or more than maxLifetime, disabling it.
2025-03-11T00:51:39.859-03:00  INFO 11280 --- [libraryapi] [main] com.zaxxer.hikari.HikariDataSource       : library-db-pool - Starting...
2025-03-11T00:51:40.611-03:00  INFO 11280 --- [libraryapi] [main] com.zaxxer.hikari.pool.HikariPool        : library-db-pool - Added connection org.postgresql.jdbc.PgConnection@237b2852
2025-03-11T00:51:40.613-03:00  INFO 11280 --- [libraryapi] [main] com.zaxxer.hikari.HikariDataSource       : library-db-pool - Start completed.
2025-03-11T00:51:40.719-03:00  INFO 11280 --- [libraryapi] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-11T00:51:40.803-03:00  INFO 11280 --- [libraryapi] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2025-03-11T00:51:40.845-03:00  INFO 11280 --- [libraryapi] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-11T00:51:41.412-03:00  INFO 11280 --- [libraryapi] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-11T00:51:42.422-03:00  INFO 11280 --- [libraryapi] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-11T00:51:42.426-03:00  INFO 11280 --- [libraryapi] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-11T00:51:42.819-03:00  INFO 11280 --- [libraryapi] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-11T00:51:43.615-03:00  WARN 11280 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-11T00:51:43.633-03:00  INFO 11280 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-11T00:51:44.485-03:00  WARN 11280 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T00:51:44.485-03:00  WARN 11280 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T00:51:44.485-03:00  WARN 11280 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T00:51:44.485-03:00  WARN 11280 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T00:51:44.485-03:00  WARN 11280 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T00:51:44.486-03:00  WARN 11280 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T00:51:44.921-03:00  INFO 11280 --- [libraryapi] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-11T00:51:44.932-03:00  INFO 11280 --- [libraryapi] [main] k.libraryapi.LibraryapiApplication       : Started LibraryapiApplication in 7.98 seconds (process running for 8.424)
2025-03-11T01:04:06.389-03:00  WARN 11340 --- [libraryapi] [main] com.zaxxer.hikari.HikariConfig           : library-db-pool - idleTimeout is close to or more than maxLifetime, disabling it.
2025-03-11T01:04:09.988-03:00  WARN 11340 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-11T01:04:10.179-03:00 DEBUG 11340 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-03-11T01:04:10.209-03:00 DEBUG 11340 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-11T01:04:10.239-03:00 DEBUG 11340 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-11T01:04:10.811-03:00  WARN 11340 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:04:10.812-03:00  WARN 11340 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:04:10.812-03:00  WARN 11340 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:04:10.812-03:00  WARN 11340 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:04:10.812-03:00  WARN 11340 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:04:10.812-03:00  WARN 11340 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:04:10.887-03:00 DEBUG 11340 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-11T01:04:10.930-03:00 DEBUG 11340 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-11T01:05:09.095-03:00  INFO 11340 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-11T01:05:09.096-03:00 DEBUG 11340 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-03-11T01:05:09.097-03:00 DEBUG 11340 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-03-11T01:05:09.097-03:00 DEBUG 11340 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-03-11T01:05:09.102-03:00 DEBUG 11340 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@abce494
2025-03-11T01:05:09.104-03:00 DEBUG 11340 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1bae8e5e
2025-03-11T01:05:09.106-03:00 DEBUG 11340 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-03-11T01:05:09.107-03:00  INFO 11340 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 11 ms
2025-03-11T01:05:10.789-03:00 DEBUG 11340 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-03-11T01:05:10.791-03:00 DEBUG 11340 --- [libraryapi] [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-03-11T01:05:11.320-03:00 DEBUG 11340 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-03-11T01:05:18.721-03:00 DEBUG 11340 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/authorized?code=bZvdWQaDl5oywFpkpCExQL9JSbi36LT8jpggZL5fqTE0rPc6ccJET0D90iNWx6jx695zoXenWq6naPGKGzBU1xa8WaSbXF6XHHXJeAjNxDcbm2TyNypbI176rql-SWRb", parameters={masked}
2025-03-11T01:05:18.722-03:00 DEBUG 11340 --- [libraryapi] [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to kleberlz.libraryapi.controller.LoginViewController#getAuthorizationCodeString(String)
2025-03-11T01:05:18.933-03:00 DEBUG 11340 --- [libraryapi] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'text/html', given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7] and supported [text/plain, */*, application/json, application/*+json]
2025-03-11T01:05:18.934-03:00 DEBUG 11340 --- [libraryapi] [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing ["Seu authorization code: bZvdWQaDl5oywFpkpCExQL9JSbi36LT8jpggZL5fqTE0rPc6ccJET0D90iNWx6jx695zoXenWq6n (truncated)..."]
2025-03-11T01:05:18.937-03:00 DEBUG 11340 --- [libraryapi] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-03-11T01:05:59.037-03:00 DEBUG 11340 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/autores?nacionalidade=Brasileira", parameters={masked}
2025-03-11T01:05:59.037-03:00 DEBUG 11340 --- [libraryapi] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to kleberlz.libraryapi.controller.AutorController#pesquisar(String, String)
2025-03-11T01:05:59.070-03:00  WARN 11340 --- [libraryapi] [http-nio-8080-exec-9] k.libraryapi.controller.AutorController  : Pesquisa autores
2025-03-11T01:05:59.071-03:00 ERROR 11340 --- [libraryapi] [http-nio-8080-exec-9] k.libraryapi.controller.AutorController  : Pesquisa autores
2025-03-11T01:05:59.561-03:00 DEBUG 11340 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-11T01:05:59.564-03:00 DEBUG 11340 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[AutorDTO[id=fa37a309-caf8-4b6b-8bba-d47c2e679c6b, nome=Jos√©, dataNascimento=1950-01-31, nacionalida (truncated)...]
2025-03-11T01:05:59.633-03:00 DEBUG 11340 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-03-11T01:09:15.076-03:00  WARN 1020 --- [libraryapi] [main] com.zaxxer.hikari.HikariConfig           : library-db-pool - idleTimeout is close to or more than maxLifetime, disabling it.
2025-03-11T01:09:18.564-03:00  WARN 1020 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-11T01:09:18.739-03:00 DEBUG 1020 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-03-11T01:09:18.764-03:00 DEBUG 1020 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-11T01:09:18.802-03:00 DEBUG 1020 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-11T01:09:19.527-03:00  WARN 1020 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:09:19.528-03:00  WARN 1020 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:09:19.528-03:00  WARN 1020 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:09:19.528-03:00  WARN 1020 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:09:19.529-03:00  WARN 1020 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:09:19.529-03:00  WARN 1020 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:09:19.610-03:00 DEBUG 1020 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-11T01:09:19.650-03:00 DEBUG 1020 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-11T01:09:45.680-03:00  INFO 1020 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-11T01:09:45.681-03:00 DEBUG 1020 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-03-11T01:09:45.681-03:00 DEBUG 1020 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-03-11T01:09:45.681-03:00 DEBUG 1020 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-03-11T01:09:45.682-03:00 DEBUG 1020 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1bae8e5e
2025-03-11T01:09:45.682-03:00 DEBUG 1020 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@4b9be679
2025-03-11T01:09:45.682-03:00 DEBUG 1020 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-03-11T01:09:45.682-03:00  INFO 1020 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-03-11T01:09:45.882-03:00 DEBUG 1020 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-03-11T01:09:45.884-03:00 DEBUG 1020 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-03-11T01:09:46.142-03:00 DEBUG 1020 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-03-11T01:10:53.893-03:00 DEBUG 1020 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/autores?nacionalidade=Brasileira", parameters={masked}
2025-03-11T01:10:53.893-03:00 DEBUG 1020 --- [libraryapi] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to kleberlz.libraryapi.controller.AutorController#pesquisar(String, String)
2025-03-11T01:10:53.925-03:00  WARN 1020 --- [libraryapi] [http-nio-8080-exec-10] k.libraryapi.controller.AutorController  : Pesquisa autores
2025-03-11T01:10:53.925-03:00 ERROR 1020 --- [libraryapi] [http-nio-8080-exec-10] k.libraryapi.controller.AutorController  : Pesquisa autores
2025-03-11T01:10:53.993-03:00 DEBUG 1020 --- [libraryapi] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-11T01:10:53.996-03:00 DEBUG 1020 --- [libraryapi] [http-nio-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[AutorDTO[id=fa37a309-caf8-4b6b-8bba-d47c2e679c6b, nome=Jos√©, dataNascimento=1950-01-31, nacionalida (truncated)...]
2025-03-11T01:10:54.027-03:00 DEBUG 1020 --- [libraryapi] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-03-11T01:12:12.335-03:00  WARN 18184 --- [libraryapi] [main] com.zaxxer.hikari.HikariConfig           : library-db-pool - idleTimeout is close to or more than maxLifetime, disabling it.
2025-03-11T01:12:15.615-03:00  WARN 18184 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-11T01:12:15.780-03:00 DEBUG 18184 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-03-11T01:12:15.793-03:00 DEBUG 18184 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-11T01:12:15.827-03:00 DEBUG 18184 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-11T01:12:16.416-03:00  WARN 18184 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:12:16.417-03:00  WARN 18184 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:12:16.417-03:00  WARN 18184 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:12:16.417-03:00  WARN 18184 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:12:16.417-03:00  WARN 18184 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:12:16.417-03:00  WARN 18184 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:12:16.473-03:00 DEBUG 18184 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-11T01:12:16.504-03:00 DEBUG 18184 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-11T01:12:27.109-03:00  INFO 18184 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-11T01:12:27.109-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-03-11T01:12:27.109-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-03-11T01:12:27.110-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-03-11T01:12:27.110-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@abce494
2025-03-11T01:12:27.111-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1bae8e5e
2025-03-11T01:12:27.111-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-03-11T01:12:27.111-03:00  INFO 18184 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-03-11T01:12:39.374-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-03-11T01:12:39.376-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-03-11T01:12:39.633-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-03-11T01:12:57.944-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/autores?nacionalidade=Brasileira", parameters={masked}
2025-03-11T01:12:57.945-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to kleberlz.libraryapi.controller.AutorController#pesquisar(String, String)
2025-03-11T01:12:57.977-03:00  WARN 18184 --- [libraryapi] [http-nio-8080-exec-9] k.libraryapi.controller.AutorController  : Pesquisa autores
2025-03-11T01:12:57.977-03:00 ERROR 18184 --- [libraryapi] [http-nio-8080-exec-9] k.libraryapi.controller.AutorController  : Pesquisa autores
2025-03-11T01:12:58.047-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-11T01:12:58.051-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[AutorDTO[id=fa37a309-caf8-4b6b-8bba-d47c2e679c6b, nome=Jos√©, dataNascimento=1950-01-31, nacionalida (truncated)...]
2025-03-11T01:12:58.085-03:00 DEBUG 18184 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-03-11T01:15:48.756-03:00  WARN 17572 --- [libraryapi] [main] com.zaxxer.hikari.HikariConfig           : library-db-pool - idleTimeout is close to or more than maxLifetime, disabling it.
2025-03-11T01:15:52.049-03:00  WARN 17572 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-11T01:15:52.074-03:00 TRACE 17572 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authorizationServerConfiguration=kleberlz.libraryapi.config.AuthorizationServerConfiguration$$SpringCGLIB$$0@d5eca06, securityConfiguration=kleberlz.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@3e3d8e6c}
2025-03-11T01:15:52.078-03:00  INFO 17572 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-11T01:15:52.256-03:00 DEBUG 17572 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-03-11T01:15:52.282-03:00 DEBUG 17572 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-11T01:15:52.329-03:00 DEBUG 17572 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-11T01:15:52.919-03:00 DEBUG 17572 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000114e4a9c4d0@6818c0a6 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-03-11T01:15:52.971-03:00 DEBUG 17572 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-11T01:15:52.980-03:00  WARN 17572 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:15:52.980-03:00 DEBUG 17572 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-03-11T01:15:52.980-03:00  WARN 17572 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:15:52.980-03:00 DEBUG 17572 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-03-11T01:15:52.981-03:00  WARN 17572 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:15:52.981-03:00 DEBUG 17572 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-03-11T01:15:52.981-03:00  WARN 17572 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:15:52.981-03:00 DEBUG 17572 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-03-11T01:15:52.981-03:00  WARN 17572 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:15:52.981-03:00 DEBUG 17572 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-03-11T01:15:52.981-03:00  WARN 17572 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:15:52.981-03:00 DEBUG 17572 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-03-11T01:15:53.041-03:00 DEBUG 17572 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-11T01:15:53.072-03:00 DEBUG 17572 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-11T01:16:04.061-03:00  INFO 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-11T01:16:04.061-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-03-11T01:16:04.061-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-03-11T01:16:04.061-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-03-11T01:16:04.062-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@65b869b4
2025-03-11T01:16:04.063-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@352bccf
2025-03-11T01:16:04.063-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-03-11T01:16:04.064-03:00  INFO 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-03-11T01:16:04.077-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-11T01:16:04.078-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-11T01:16:04.078-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-11T01:16:04.079-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-11T01:16:04.079-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-11T01:16:04.079-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-11T01:16:04.079-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000114e4a9c4d0@6818c0a6, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3d00cf14, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@508f3810, org.springframework.security.web.context.SecurityContextHolderFilter@2954be42, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@660b8572, org.springframework.security.web.header.HeaderWriterFilter@54543211, org.springframework.security.web.csrf.CsrfFilter@46e05384, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@39da0d43, org.springframework.security.web.authentication.logout.LogoutFilter@6a4f3df4, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@286e2b71, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@6162d87c, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@7ba821ef, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@12aa9370, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@188f626a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7d0ae3d1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7469d13a, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7e3ccedb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@72cec2e2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3579682, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@417a4f58, org.springframework.security.web.access.ExceptionTranslationFilter@2c34c819, org.springframework.security.web.access.intercept.AuthorizationFilter@3fa13835, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@186149f9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@25c5fc41, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1483ecad, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@4a3b0387, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@76ad048a]] (7/8)
2025-03-11T01:16:04.081-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-11T01:16:04.083-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-03-11T01:16:04.083-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-03-11T01:16:04.085-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-03-11T01:16:04.087-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-03-11T01:16:04.091-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-03-11T01:16:04.092-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-03-11T01:16:04.094-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000114e4a9c4d0@6818c0a6, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@79a7f553]]]
2025-03-11T01:16:04.094-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-03-11T01:16:04.094-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-03-11T01:16:04.094-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-11T01:16:04.094-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-03-11T01:16:04.095-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-03-11T01:16:04.098-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-03-11T01:16:04.098-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-11T01:16:04.098-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-11T01:16:04.100-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-03-11T01:16:04.236-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-03-11T01:16:04.237-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-03-11T01:16:04.237-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Did not authenticate authorization code request since principal not authenticated
2025-03-11T01:16:04.238-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-03-11T01:16:04.238-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-03-11T01:16:04.238-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-03-11T01:16:04.238-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-03-11T01:16:04.238-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/26)
2025-03-11T01:16:04.238-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-11T01:16:04.238-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/26)
2025-03-11T01:16:04.239-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-11T01:16:04.239-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/26)
2025-03-11T01:16:04.239-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-11T01:16:04.239-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/26)
2025-03-11T01:16:04.240-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/26)
2025-03-11T01:16:04.240-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/26)
2025-03-11T01:16:04.240-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (21/26)
2025-03-11T01:16:04.241-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-11T01:16:04.241-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized using org.springframework.security.authorization.AuthenticatedAuthorizationManager@53416bca
2025-03-11T01:16:04.242-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-11T01:16:04.242-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter.doFilterInternal(OAuth2ClientAuthenticationFilter.java:129) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter.doFilterInternal(NimbusJwkSetEndpointFilter.java:88) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter.doFilterInternal(OidcProviderConfigurationEndpointFilter.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter.doFilterInternal(OAuth2DeviceVerificationEndpointFilter.java:152) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:192) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-03-11T01:16:04.266-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue to session
2025-03-11T01:16:04.266-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST]]
2025-03-11T01:16:04.269-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@79a7f553, RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@39b752f4, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@39b752f4, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@39b752f4, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-03-11T01:16:04.269-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@39b752f4, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-03-11T01:16:04.270-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@19a48bde
2025-03-11T01:16:04.271-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-03-11T01:16:04.272-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-11T01:16:04.281-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-11T01:16:04.282-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-11T01:16:04.282-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-11T01:16:04.282-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-11T01:16:04.283-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-11T01:16:04.283-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-11T01:16:04.283-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000114e4a9c4d0@6818c0a6, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3d00cf14, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@508f3810, org.springframework.security.web.context.SecurityContextHolderFilter@2954be42, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@660b8572, org.springframework.security.web.header.HeaderWriterFilter@54543211, org.springframework.security.web.csrf.CsrfFilter@46e05384, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@39da0d43, org.springframework.security.web.authentication.logout.LogoutFilter@6a4f3df4, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@286e2b71, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@6162d87c, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@7ba821ef, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@12aa9370, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@188f626a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7d0ae3d1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7469d13a, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7e3ccedb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@72cec2e2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3579682, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@417a4f58, org.springframework.security.web.access.ExceptionTranslationFilter@2c34c819, org.springframework.security.web.access.intercept.AuthorizationFilter@3fa13835, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@186149f9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@25c5fc41, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1483ecad, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@4a3b0387, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@76ad048a]] (7/8)
2025-03-11T01:16:04.283-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@53033dbe, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3a6dc5f3, org.springframework.security.web.context.SecurityContextHolderFilter@17b3b021, org.springframework.security.web.header.HeaderWriterFilter@491cceb4, org.springframework.security.web.authentication.logout.LogoutFilter@35007b7a, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@41b6ae51, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@78494a59, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@13e9a2f2, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@c79a727, kleberlz.libraryapi.security.JwtCustomAuthenticationFilter@1784fcab, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@504ed038, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@10fef3d1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@242ce30, org.springframework.security.web.access.ExceptionTranslationFilter@2cfd91b9, org.springframework.security.web.access.intercept.AuthorizationFilter@c1e7bea]] (8/8)
2025-03-11T01:16:04.283-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-03-11T01:16:04.283-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-11T01:16:04.283-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-11T01:16:04.283-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-11T01:16:04.284-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-11T01:16:04.284-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-11T01:16:04.284-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-11T01:16:04.284-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-11T01:16:04.284-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-11T01:16:04.284-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-11T01:16:04.284-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-11T01:16:04.284-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-11T01:16:04.284-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-11T01:16:04.285-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-11T01:16:04.285-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-11T01:16:04.285-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession BFC5C0B09A29BF4E5CA151438E5EE45B using the SPRING_SECURITY_CONTEXT session attribute
2025-03-11T01:16:04.285-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-11T01:16:04.285-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-11T01:16:04.286-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-11T01:16:04.286-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-11T01:16:04.286-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-11T01:16:04.286-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-11T01:16:04.286-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-11T01:16:04.286-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-11T01:16:04.286-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-03-11T01:16:04.287-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x00000114e4a9cb20@1b44f9a3
2025-03-11T01:16:04.288-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-03-11T01:16:04.290-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-03-11T01:16:04.292-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-03-11T01:16:04.552-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-11T01:16:04.555-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-03-11T01:16:04.555-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BFC5C0B09A29BF4E5CA151438E5EE45B], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-11T01:16:09.404-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-11T01:16:09.405-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-11T01:16:09.405-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-11T01:16:09.405-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-11T01:16:09.405-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-11T01:16:09.405-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-11T01:16:09.405-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000114e4a9c4d0@6818c0a6, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3d00cf14, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@508f3810, org.springframework.security.web.context.SecurityContextHolderFilter@2954be42, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@660b8572, org.springframework.security.web.header.HeaderWriterFilter@54543211, org.springframework.security.web.csrf.CsrfFilter@46e05384, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@39da0d43, org.springframework.security.web.authentication.logout.LogoutFilter@6a4f3df4, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@286e2b71, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@6162d87c, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@7ba821ef, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@12aa9370, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@188f626a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7d0ae3d1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7469d13a, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7e3ccedb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@72cec2e2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3579682, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@417a4f58, org.springframework.security.web.access.ExceptionTranslationFilter@2c34c819, org.springframework.security.web.access.intercept.AuthorizationFilter@3fa13835, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@186149f9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@25c5fc41, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1483ecad, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@4a3b0387, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@76ad048a]] (7/8)
2025-03-11T01:16:09.406-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@53033dbe, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3a6dc5f3, org.springframework.security.web.context.SecurityContextHolderFilter@17b3b021, org.springframework.security.web.header.HeaderWriterFilter@491cceb4, org.springframework.security.web.authentication.logout.LogoutFilter@35007b7a, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@41b6ae51, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@78494a59, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@13e9a2f2, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@c79a727, kleberlz.libraryapi.security.JwtCustomAuthenticationFilter@1784fcab, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@504ed038, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@10fef3d1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@242ce30, org.springframework.security.web.access.ExceptionTranslationFilter@2cfd91b9, org.springframework.security.web.access.intercept.AuthorizationFilter@c1e7bea]] (8/8)
2025-03-11T01:16:09.406-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /login
2025-03-11T01:16:09.406-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-11T01:16:09.406-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-11T01:16:09.406-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-11T01:16:09.406-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-11T01:16:09.406-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-11T01:16:09.406-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-11T01:16:09.406-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-11T01:16:09.406-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-11T01:16:09.406-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-11T01:16:09.407-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-11T01:16:09.407-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-03-11T01:16:09.494-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-2] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-03-11T01:16:09.494-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-2] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from BFC5C0B09A29BF4E5CA151438E5EE45B
2025-03-11T01:16:09.495-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=kleberlz.libraryapi.security.CustomAuthentication@43c655c3] to HttpSession [org.apache.catalina.session.StandardSessionFacade@2cd08ff4]
2025-03-11T01:16:09.495-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to kleberlz.libraryapi.security.CustomAuthentication@43c655c3
2025-03-11T01:16:09.495-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue
2025-03-11T01:16:09.496-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-11T01:16:09.504-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-11T01:16:09.504-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-11T01:16:09.504-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-11T01:16:09.505-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-11T01:16:09.505-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-11T01:16:09.505-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-11T01:16:09.505-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000114e4a9c4d0@6818c0a6, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3d00cf14, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@508f3810, org.springframework.security.web.context.SecurityContextHolderFilter@2954be42, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@660b8572, org.springframework.security.web.header.HeaderWriterFilter@54543211, org.springframework.security.web.csrf.CsrfFilter@46e05384, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@39da0d43, org.springframework.security.web.authentication.logout.LogoutFilter@6a4f3df4, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@286e2b71, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@6162d87c, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@7ba821ef, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@12aa9370, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@188f626a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7d0ae3d1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7469d13a, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7e3ccedb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@72cec2e2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3579682, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@417a4f58, org.springframework.security.web.access.ExceptionTranslationFilter@2c34c819, org.springframework.security.web.access.intercept.AuthorizationFilter@3fa13835, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@186149f9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@25c5fc41, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1483ecad, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@4a3b0387, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@76ad048a]] (7/8)
2025-03-11T01:16:09.505-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue
2025-03-11T01:16:09.506-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-03-11T01:16:09.506-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-03-11T01:16:09.506-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-03-11T01:16:09.506-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-03-11T01:16:09.506-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-03-11T01:16:09.506-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-03-11T01:16:09.506-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000114e4a9c4d0@6818c0a6, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@79a7f553]]]
2025-03-11T01:16:09.507-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-03-11T01:16:09.507-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-03-11T01:16:09.507-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-11T01:16:09.507-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-03-11T01:16:09.507-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-03-11T01:16:09.507-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=kleberlz.libraryapi.security.CustomAuthentication@43c655c3] from SPRING_SECURITY_CONTEXT
2025-03-11T01:16:09.507-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-03-11T01:16:09.512-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-03-11T01:16:09.512-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-03-11T01:16:09.518-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Generated authorization code
2025-03-11T01:16:09.519-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Saved authorization
2025-03-11T01:16:09.519-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Authenticated authorization code request
2025-03-11T01:16:09.520-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/authorized?code=TzHu9JkNsZxK-_clb-rExMh3b3J4ZWNS-fYgmqnYm_9MxQXsn4Ih0dcJ4Q2WBhorG3GXc9CHM2Kc-yDgQBww1SV1t-eTOPMfU6L8jL-1veK1-jn-GPMJOQIxGMe3U-wk
2025-03-11T01:16:09.521-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-11T01:16:09.856-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-11T01:16:09.857-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-11T01:16:09.857-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-11T01:16:09.857-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-11T01:16:09.857-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-11T01:16:09.857-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-11T01:16:09.857-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000114e4a9c4d0@6818c0a6, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3d00cf14, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@508f3810, org.springframework.security.web.context.SecurityContextHolderFilter@2954be42, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@660b8572, org.springframework.security.web.header.HeaderWriterFilter@54543211, org.springframework.security.web.csrf.CsrfFilter@46e05384, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@39da0d43, org.springframework.security.web.authentication.logout.LogoutFilter@6a4f3df4, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@286e2b71, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@6162d87c, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@7ba821ef, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@12aa9370, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@188f626a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7d0ae3d1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7469d13a, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7e3ccedb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@72cec2e2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3579682, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@417a4f58, org.springframework.security.web.access.ExceptionTranslationFilter@2c34c819, org.springframework.security.web.access.intercept.AuthorizationFilter@3fa13835, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@186149f9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@25c5fc41, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1483ecad, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@4a3b0387, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@76ad048a]] (7/8)
2025-03-11T01:16:09.857-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-03-11T01:16:09.858-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-03-11T01:16:09.858-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-03-11T01:16:09.858-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-03-11T01:16:09.858-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-03-11T01:16:09.858-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-03-11T01:16:09.858-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-03-11T01:16:09.858-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000114e4a9c4d0@6818c0a6, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@79a7f553]]]
2025-03-11T01:16:09.858-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-03-11T01:16:09.858-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-03-11T01:16:09.859-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-11T01:16:09.859-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-03-11T01:16:09.859-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-03-11T01:16:09.859-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-03-11T01:16:09.859-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-03-11T01:16:09.859-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-03-11T01:16:09.859-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-03-11T01:16:09.860-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/20)
2025-03-11T01:16:09.860-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/20)
2025-03-11T01:16:09.860-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/20)
2025-03-11T01:16:09.864-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] s.a.a.ClientSecretAuthenticationProvider : Retrieved registered client
2025-03-11T01:16:09.926-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] s.a.a.ClientSecretAuthenticationProvider : Validated client authentication parameters
2025-03-11T01:16:09.927-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Retrieved authorization with authorization code
2025-03-11T01:16:09.927-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Did not authenticate code verifier since requireProofKey=false
2025-03-11T01:16:09.927-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] s.a.a.ClientSecretAuthenticationProvider : Authenticated client secret
2025-03-11T01:16:09.927-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.a.w.OAuth2ClientAuthenticationFilter : Set SecurityContextHolder authentication to OAuth2ClientAuthenticationToken
2025-03-11T01:16:09.927-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/26)
2025-03-11T01:16:09.927-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-11T01:16:09.927-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/26)
2025-03-11T01:16:09.928-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-11T01:16:09.928-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/26)
2025-03-11T01:16:09.928-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-11T01:16:09.928-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/26)
2025-03-11T01:16:09.928-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/26)
2025-03-11T01:16:09.928-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/26)
2025-03-11T01:16:09.928-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (21/26)
2025-03-11T01:16:09.928-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing POST /oauth2/token
2025-03-11T01:16:09.928-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /oauth2/token using org.springframework.security.authorization.AuthenticatedAuthorizationManager@53416bca
2025-03-11T01:16:09.928-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2ClientAuthenticationToken [Principal=meu-client, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-03-11T01:16:09.929-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (22/26)
2025-03-11T01:16:09.930-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeAuthenticationProvider (1/20)
2025-03-11T01:16:09.931-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Retrieved registered client
2025-03-11T01:16:09.931-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Retrieved authorization with authorization code
2025-03-11T01:16:09.931-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Validated token request parameters
2025-03-11T01:16:09.984-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Generated access token
2025-03-11T01:16:09.985-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Generated refresh token
2025-03-11T01:16:09.986-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Saved authorization
2025-03-11T01:16:09.986-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Authenticated token request
2025-03-11T01:16:10.015-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-11T01:16:23.842-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-11T01:16:23.842-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-11T01:16:23.843-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-11T01:16:23.843-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-11T01:16:23.843-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-11T01:16:23.843-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-11T01:16:23.843-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x00000114e4a9c4d0@6818c0a6, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@3d00cf14, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@508f3810, org.springframework.security.web.context.SecurityContextHolderFilter@2954be42, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@660b8572, org.springframework.security.web.header.HeaderWriterFilter@54543211, org.springframework.security.web.csrf.CsrfFilter@46e05384, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@39da0d43, org.springframework.security.web.authentication.logout.LogoutFilter@6a4f3df4, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@286e2b71, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@6162d87c, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@7ba821ef, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@12aa9370, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@188f626a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@7d0ae3d1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7469d13a, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7e3ccedb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@72cec2e2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3579682, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@417a4f58, org.springframework.security.web.access.ExceptionTranslationFilter@2c34c819, org.springframework.security.web.access.intercept.AuthorizationFilter@3fa13835, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@186149f9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@25c5fc41, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@1483ecad, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@4a3b0387, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@76ad048a]] (7/8)
2025-03-11T01:16:23.843-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@53033dbe, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3a6dc5f3, org.springframework.security.web.context.SecurityContextHolderFilter@17b3b021, org.springframework.security.web.header.HeaderWriterFilter@491cceb4, org.springframework.security.web.authentication.logout.LogoutFilter@35007b7a, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@41b6ae51, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@78494a59, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@13e9a2f2, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@c79a727, kleberlz.libraryapi.security.JwtCustomAuthenticationFilter@1784fcab, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@504ed038, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@10fef3d1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@242ce30, org.springframework.security.web.access.ExceptionTranslationFilter@2cfd91b9, org.springframework.security.web.access.intercept.AuthorizationFilter@c1e7bea]] (8/8)
2025-03-11T01:16:23.843-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /autores?nacionalidade=Brasileira
2025-03-11T01:16:23.843-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-11T01:16:23.844-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-11T01:16:23.844-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-11T01:16:23.844-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-11T01:16:23.844-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-11T01:16:23.844-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-11T01:16:23.844-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-11T01:16:23.844-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-11T01:16:23.844-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-8] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-11T01:16:23.844-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-11T01:16:23.844-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-8] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-11T01:16:23.845-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-11T01:16:23.845-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-03-11T01:16:23.854-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-8] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Returning no authorities since could not find any claims that might contain scopes
2025-03-11T01:16:23.855-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-03-11T01:16:23.855-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@317bcffa, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-03-11T01:16:23.855-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-11T01:16:23.860-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-11T01:16:23.860-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-11T01:16:23.861-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-11T01:16:23.861-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-11T01:16:23.861-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-11T01:16:23.861-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-11T01:16:23.861-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing GET /autores?nacionalidade=Brasileira
2025-03-11T01:16:23.861-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /autores?nacionalidade=Brasileira using org.springframework.security.authorization.AuthenticatedAuthorizationManager@492d682
2025-03-11T01:16:23.861-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated kleberlz.libraryapi.security.CustomAuthentication@d14c330
2025-03-11T01:16:23.861-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /autores?nacionalidade=Brasileira
2025-03-11T01:16:23.861-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/autores?nacionalidade=Brasileira", parameters={masked}
2025-03-11T01:16:23.862-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to kleberlz.libraryapi.controller.AutorController#pesquisar(String, String)
2025-03-11T01:16:23.885-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity kleberlz.libraryapi.controller.AutorController.pesquisar(java.lang.String,java.lang.String); target is of class [kleberlz.libraryapi.controller.AutorController]
2025-03-11T01:16:23.894-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity kleberlz.libraryapi.controller.AutorController.pesquisar(java.lang.String,java.lang.String); target is of class [kleberlz.libraryapi.controller.AutorController]
2025-03-11T01:16:23.894-03:00  WARN 17572 --- [libraryapi] [http-nio-8080-exec-8] k.libraryapi.controller.AutorController  : Pesquisa autores
2025-03-11T01:16:23.895-03:00 ERROR 17572 --- [libraryapi] [http-nio-8080-exec-8] k.libraryapi.controller.AutorController  : Pesquisa autores
2025-03-11T01:16:23.963-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-03-11T01:16:23.966-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[AutorDTO[id=fa37a309-caf8-4b6b-8bba-d47c2e679c6b, nome=Jos√©, dataNascimento=1950-01-31, nacionalida (truncated)...]
2025-03-11T01:16:23.996-03:00 TRACE 17572 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-11T01:16:23.998-03:00 DEBUG 17572 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-03-11T01:25:57.663-03:00  WARN 1452 --- [libraryapi] [main] com.zaxxer.hikari.HikariConfig           : library-db-pool - idleTimeout is close to or more than maxLifetime, disabling it.
2025-03-11T01:26:01.142-03:00  WARN 1452 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-11T01:26:01.160-03:00 TRACE 1452 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authorizationServerConfiguration=kleberlz.libraryapi.config.AuthorizationServerConfiguration$$SpringCGLIB$$0@536f389, securityConfiguration=kleberlz.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@1dc9e4d2}
2025-03-11T01:26:01.164-03:00  INFO 1452 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-11T01:26:01.348-03:00 DEBUG 1452 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-03-11T01:26:01.376-03:00 DEBUG 1452 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-11T01:26:01.425-03:00 DEBUG 1452 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-11T01:26:02.165-03:00 DEBUG 1452 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000024ed4a9a468@1e072d67 with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-03-11T01:26:02.219-03:00 DEBUG 1452 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-11T01:26:02.227-03:00  WARN 1452 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:26:02.228-03:00 DEBUG 1452 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-03-11T01:26:02.228-03:00  WARN 1452 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:26:02.228-03:00 DEBUG 1452 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-03-11T01:26:02.228-03:00  WARN 1452 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:26:02.228-03:00 DEBUG 1452 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-03-11T01:26:02.228-03:00  WARN 1452 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:26:02.229-03:00 DEBUG 1452 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-03-11T01:26:02.229-03:00  WARN 1452 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:26:02.229-03:00 DEBUG 1452 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-03-11T01:26:02.229-03:00  WARN 1452 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:26:02.229-03:00 DEBUG 1452 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-03-11T01:26:02.287-03:00 DEBUG 1452 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-11T01:26:02.319-03:00 DEBUG 1452 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-11T01:26:10.906-03:00  INFO 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-11T01:26:10.907-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-03-11T01:26:10.907-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-03-11T01:26:10.907-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-03-11T01:26:10.908-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@681f5a1e
2025-03-11T01:26:10.909-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@538c823c
2025-03-11T01:26:10.909-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-03-11T01:26:10.909-03:00  INFO 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-03-11T01:26:10.925-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-11T01:26:10.926-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-11T01:26:10.926-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-11T01:26:10.927-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-11T01:26:10.927-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-11T01:26:10.927-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-11T01:26:10.927-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000024ed4a9a468@1e072d67, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7532b3d0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10e685a3, org.springframework.security.web.context.SecurityContextHolderFilter@34ef9879, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@4dd4a4e, org.springframework.security.web.header.HeaderWriterFilter@7049d079, org.springframework.security.web.csrf.CsrfFilter@5fdb445b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@337fac72, org.springframework.security.web.authentication.logout.LogoutFilter@22eccd2c, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@53ed0519, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@3778cd05, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@6c3600b7, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2f96e49f, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@4a907e5a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@73f83bff, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2d99b35f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@62267a22, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@fcecc45, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4d76f990, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6c12ad48, org.springframework.security.web.access.ExceptionTranslationFilter@52d1bb9c, org.springframework.security.web.access.intercept.AuthorizationFilter@87affb5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@356c8fa9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61b5c8a3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@279c94ad, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@4b7272d6, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1ec22804]] (7/8)
2025-03-11T01:26:10.928-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-11T01:26:10.929-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-03-11T01:26:10.930-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-03-11T01:26:10.934-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-03-11T01:26:10.936-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-03-11T01:26:10.942-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-03-11T01:26:10.943-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-03-11T01:26:10.945-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000024ed4a9a468@1e072d67, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@150a201b]]]
2025-03-11T01:26:10.945-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-03-11T01:26:10.945-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-03-11T01:26:10.945-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-11T01:26:10.945-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-03-11T01:26:10.945-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-03-11T01:26:10.948-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-03-11T01:26:10.949-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-11T01:26:10.949-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-11T01:26:10.951-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-03-11T01:26:11.103-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-03-11T01:26:11.104-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-03-11T01:26:11.105-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Did not authenticate authorization code request since principal not authenticated
2025-03-11T01:26:11.105-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-03-11T01:26:11.105-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-03-11T01:26:11.105-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-03-11T01:26:11.106-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-03-11T01:26:11.106-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/26)
2025-03-11T01:26:11.106-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-11T01:26:11.106-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/26)
2025-03-11T01:26:11.106-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-11T01:26:11.106-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/26)
2025-03-11T01:26:11.107-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-11T01:26:11.107-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/26)
2025-03-11T01:26:11.108-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/26)
2025-03-11T01:26:11.108-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/26)
2025-03-11T01:26:11.109-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (21/26)
2025-03-11T01:26:11.109-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-11T01:26:11.109-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized using org.springframework.security.authorization.AuthenticatedAuthorizationManager@2b5fe9f7
2025-03-11T01:26:11.110-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-11T01:26:11.111-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter.doFilterInternal(OAuth2ClientAuthenticationFilter.java:129) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter.doFilterInternal(NimbusJwkSetEndpointFilter.java:88) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter.doFilterInternal(OidcProviderConfigurationEndpointFilter.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter.doFilterInternal(OAuth2DeviceVerificationEndpointFilter.java:152) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:192) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-03-11T01:26:11.139-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue to session
2025-03-11T01:26:11.139-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST]]
2025-03-11T01:26:11.142-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@150a201b, RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@d67f6f, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@d67f6f, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@d67f6f, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-03-11T01:26:11.143-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@d67f6f, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-03-11T01:26:11.143-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@3e6f3ad5
2025-03-11T01:26:11.144-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-03-11T01:26:11.144-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-11T01:26:11.156-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-11T01:26:11.156-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-11T01:26:11.157-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-11T01:26:11.157-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-11T01:26:11.157-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-11T01:26:11.157-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-11T01:26:11.157-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000024ed4a9a468@1e072d67, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7532b3d0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10e685a3, org.springframework.security.web.context.SecurityContextHolderFilter@34ef9879, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@4dd4a4e, org.springframework.security.web.header.HeaderWriterFilter@7049d079, org.springframework.security.web.csrf.CsrfFilter@5fdb445b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@337fac72, org.springframework.security.web.authentication.logout.LogoutFilter@22eccd2c, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@53ed0519, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@3778cd05, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@6c3600b7, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2f96e49f, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@4a907e5a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@73f83bff, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2d99b35f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@62267a22, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@fcecc45, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4d76f990, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6c12ad48, org.springframework.security.web.access.ExceptionTranslationFilter@52d1bb9c, org.springframework.security.web.access.intercept.AuthorizationFilter@87affb5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@356c8fa9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61b5c8a3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@279c94ad, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@4b7272d6, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1ec22804]] (7/8)
2025-03-11T01:26:11.158-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@66f16b3e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1969cb8, org.springframework.security.web.context.SecurityContextHolderFilter@4afad6bd, org.springframework.security.web.header.HeaderWriterFilter@c9cd06e, org.springframework.security.web.authentication.logout.LogoutFilter@43e587cd, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@1ff9d66b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@711329fe, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4a9d0c6f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2088e339, kleberlz.libraryapi.security.JwtCustomAuthenticationFilter@3b8c15de, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@de0922c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@35c344ce, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@77ffbe85, org.springframework.security.web.access.ExceptionTranslationFilter@42ff5c92, org.springframework.security.web.access.intercept.AuthorizationFilter@de4bee9]] (8/8)
2025-03-11T01:26:11.158-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-03-11T01:26:11.158-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-11T01:26:11.158-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-11T01:26:11.158-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-11T01:26:11.158-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-11T01:26:11.158-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-11T01:26:11.159-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-11T01:26:11.159-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-11T01:26:11.159-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-11T01:26:11.159-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-11T01:26:11.159-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-11T01:26:11.159-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-11T01:26:11.159-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-11T01:26:11.159-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-11T01:26:11.160-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-11T01:26:11.160-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 9D7BA19721637426CA2A02976B78BFFC using the SPRING_SECURITY_CONTEXT session attribute
2025-03-11T01:26:11.160-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-11T01:26:11.160-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-11T01:26:11.160-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-11T01:26:11.160-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-11T01:26:11.160-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-11T01:26:11.160-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-11T01:26:11.160-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-11T01:26:11.160-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-11T01:26:11.161-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-03-11T01:26:11.162-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000024ed4a9aab8@40eb5658
2025-03-11T01:26:11.162-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-03-11T01:26:11.166-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-03-11T01:26:11.169-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-03-11T01:26:11.439-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-11T01:26:11.441-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-03-11T01:26:11.442-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=9D7BA19721637426CA2A02976B78BFFC], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-11T01:26:15.509-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-11T01:26:15.510-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-11T01:26:15.510-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-11T01:26:15.510-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-11T01:26:15.510-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-11T01:26:15.510-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-11T01:26:15.510-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000024ed4a9a468@1e072d67, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7532b3d0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10e685a3, org.springframework.security.web.context.SecurityContextHolderFilter@34ef9879, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@4dd4a4e, org.springframework.security.web.header.HeaderWriterFilter@7049d079, org.springframework.security.web.csrf.CsrfFilter@5fdb445b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@337fac72, org.springframework.security.web.authentication.logout.LogoutFilter@22eccd2c, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@53ed0519, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@3778cd05, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@6c3600b7, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2f96e49f, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@4a907e5a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@73f83bff, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2d99b35f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@62267a22, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@fcecc45, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4d76f990, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6c12ad48, org.springframework.security.web.access.ExceptionTranslationFilter@52d1bb9c, org.springframework.security.web.access.intercept.AuthorizationFilter@87affb5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@356c8fa9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61b5c8a3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@279c94ad, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@4b7272d6, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1ec22804]] (7/8)
2025-03-11T01:26:15.511-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@66f16b3e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1969cb8, org.springframework.security.web.context.SecurityContextHolderFilter@4afad6bd, org.springframework.security.web.header.HeaderWriterFilter@c9cd06e, org.springframework.security.web.authentication.logout.LogoutFilter@43e587cd, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@1ff9d66b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@711329fe, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4a9d0c6f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2088e339, kleberlz.libraryapi.security.JwtCustomAuthenticationFilter@3b8c15de, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@de0922c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@35c344ce, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@77ffbe85, org.springframework.security.web.access.ExceptionTranslationFilter@42ff5c92, org.springframework.security.web.access.intercept.AuthorizationFilter@de4bee9]] (8/8)
2025-03-11T01:26:15.511-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /login
2025-03-11T01:26:15.511-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-11T01:26:15.511-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-11T01:26:15.511-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-11T01:26:15.511-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-11T01:26:15.511-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-11T01:26:15.511-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-11T01:26:15.511-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-11T01:26:15.512-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-11T01:26:15.512-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-11T01:26:15.512-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-11T01:26:15.512-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-03-11T01:26:15.604-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-3] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-03-11T01:26:15.605-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 9D7BA19721637426CA2A02976B78BFFC
2025-03-11T01:26:15.606-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=kleberlz.libraryapi.security.CustomAuthentication@589d91c2] to HttpSession [org.apache.catalina.session.StandardSessionFacade@3b49c542]
2025-03-11T01:26:15.606-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to kleberlz.libraryapi.security.CustomAuthentication@589d91c2
2025-03-11T01:26:15.606-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue
2025-03-11T01:26:15.607-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-11T01:26:15.613-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-11T01:26:15.613-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-11T01:26:15.613-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-11T01:26:15.613-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-11T01:26:15.613-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-11T01:26:15.613-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-11T01:26:15.613-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000024ed4a9a468@1e072d67, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7532b3d0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10e685a3, org.springframework.security.web.context.SecurityContextHolderFilter@34ef9879, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@4dd4a4e, org.springframework.security.web.header.HeaderWriterFilter@7049d079, org.springframework.security.web.csrf.CsrfFilter@5fdb445b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@337fac72, org.springframework.security.web.authentication.logout.LogoutFilter@22eccd2c, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@53ed0519, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@3778cd05, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@6c3600b7, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2f96e49f, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@4a907e5a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@73f83bff, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2d99b35f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@62267a22, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@fcecc45, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4d76f990, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6c12ad48, org.springframework.security.web.access.ExceptionTranslationFilter@52d1bb9c, org.springframework.security.web.access.intercept.AuthorizationFilter@87affb5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@356c8fa9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61b5c8a3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@279c94ad, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@4b7272d6, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1ec22804]] (7/8)
2025-03-11T01:26:15.614-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue
2025-03-11T01:26:15.614-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-03-11T01:26:15.614-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-03-11T01:26:15.614-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-03-11T01:26:15.614-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-03-11T01:26:15.614-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-03-11T01:26:15.614-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-03-11T01:26:15.614-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000024ed4a9a468@1e072d67, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@150a201b]]]
2025-03-11T01:26:15.615-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-03-11T01:26:15.615-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-03-11T01:26:15.615-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-11T01:26:15.615-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-03-11T01:26:15.615-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-03-11T01:26:15.615-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=kleberlz.libraryapi.security.CustomAuthentication@589d91c2] from SPRING_SECURITY_CONTEXT
2025-03-11T01:26:15.615-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-03-11T01:26:15.621-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-03-11T01:26:15.622-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-03-11T01:26:15.628-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Generated authorization code
2025-03-11T01:26:15.629-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Saved authorization
2025-03-11T01:26:15.629-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Authenticated authorization code request
2025-03-11T01:26:15.630-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/authorized?code=GR0klvI-MdcyHdzcGv4UqXcTmN0Mfp645I3AFPZu4yXlUImWSQoRVQ8xopTq71-lHCeFeM6K92tDcJcUxJz1PRkL1RPwY9D0hudny_TZsKSoL42EIa76tYfmuTueM8dv
2025-03-11T01:26:15.630-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-11T01:26:15.966-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-11T01:26:15.966-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-11T01:26:15.966-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-11T01:26:15.966-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-11T01:26:15.966-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-11T01:26:15.966-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-11T01:26:15.967-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000024ed4a9a468@1e072d67, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7532b3d0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10e685a3, org.springframework.security.web.context.SecurityContextHolderFilter@34ef9879, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@4dd4a4e, org.springframework.security.web.header.HeaderWriterFilter@7049d079, org.springframework.security.web.csrf.CsrfFilter@5fdb445b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@337fac72, org.springframework.security.web.authentication.logout.LogoutFilter@22eccd2c, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@53ed0519, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@3778cd05, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@6c3600b7, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2f96e49f, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@4a907e5a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@73f83bff, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2d99b35f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@62267a22, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@fcecc45, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4d76f990, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6c12ad48, org.springframework.security.web.access.ExceptionTranslationFilter@52d1bb9c, org.springframework.security.web.access.intercept.AuthorizationFilter@87affb5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@356c8fa9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61b5c8a3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@279c94ad, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@4b7272d6, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1ec22804]] (7/8)
2025-03-11T01:26:15.967-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-03-11T01:26:15.967-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-03-11T01:26:15.967-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-03-11T01:26:15.967-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-03-11T01:26:15.967-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-03-11T01:26:15.967-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-03-11T01:26:15.967-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-03-11T01:26:15.967-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000024ed4a9a468@1e072d67, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@150a201b]]]
2025-03-11T01:26:15.968-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-03-11T01:26:15.968-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-03-11T01:26:15.968-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-11T01:26:15.968-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-03-11T01:26:15.968-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-03-11T01:26:15.968-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-03-11T01:26:15.968-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-03-11T01:26:15.968-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-03-11T01:26:15.968-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-03-11T01:26:15.970-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/20)
2025-03-11T01:26:15.971-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/20)
2025-03-11T01:26:15.971-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/20)
2025-03-11T01:26:15.975-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] s.a.a.ClientSecretAuthenticationProvider : Retrieved registered client
2025-03-11T01:26:16.038-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] s.a.a.ClientSecretAuthenticationProvider : Validated client authentication parameters
2025-03-11T01:26:16.038-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Retrieved authorization with authorization code
2025-03-11T01:26:16.039-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Did not authenticate code verifier since requireProofKey=false
2025-03-11T01:26:16.039-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] s.a.a.ClientSecretAuthenticationProvider : Authenticated client secret
2025-03-11T01:26:16.039-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.a.w.OAuth2ClientAuthenticationFilter : Set SecurityContextHolder authentication to OAuth2ClientAuthenticationToken
2025-03-11T01:26:16.039-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/26)
2025-03-11T01:26:16.039-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-11T01:26:16.039-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/26)
2025-03-11T01:26:16.039-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-11T01:26:16.039-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/26)
2025-03-11T01:26:16.040-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-11T01:26:16.040-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/26)
2025-03-11T01:26:16.040-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/26)
2025-03-11T01:26:16.040-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/26)
2025-03-11T01:26:16.040-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (21/26)
2025-03-11T01:26:16.040-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing POST /oauth2/token
2025-03-11T01:26:16.040-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /oauth2/token using org.springframework.security.authorization.AuthenticatedAuthorizationManager@2b5fe9f7
2025-03-11T01:26:16.040-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2ClientAuthenticationToken [Principal=meu-client, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-03-11T01:26:16.041-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (22/26)
2025-03-11T01:26:16.042-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeAuthenticationProvider (1/20)
2025-03-11T01:26:16.042-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Retrieved registered client
2025-03-11T01:26:16.043-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Retrieved authorization with authorization code
2025-03-11T01:26:16.043-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Validated token request parameters
2025-03-11T01:26:16.098-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Generated access token
2025-03-11T01:26:16.100-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Generated refresh token
2025-03-11T01:26:16.100-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Saved authorization
2025-03-11T01:26:16.100-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Authenticated token request
2025-03-11T01:26:16.134-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-11T01:27:30.499-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-11T01:27:30.500-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-11T01:27:30.500-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-11T01:27:30.500-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-11T01:27:30.500-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-11T01:27:30.500-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-11T01:27:30.500-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000024ed4a9a468@1e072d67, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7532b3d0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10e685a3, org.springframework.security.web.context.SecurityContextHolderFilter@34ef9879, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@4dd4a4e, org.springframework.security.web.header.HeaderWriterFilter@7049d079, org.springframework.security.web.csrf.CsrfFilter@5fdb445b, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@337fac72, org.springframework.security.web.authentication.logout.LogoutFilter@22eccd2c, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@53ed0519, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@3778cd05, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@6c3600b7, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@2f96e49f, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@4a907e5a, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@73f83bff, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2d99b35f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@62267a22, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@fcecc45, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4d76f990, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6c12ad48, org.springframework.security.web.access.ExceptionTranslationFilter@52d1bb9c, org.springframework.security.web.access.intercept.AuthorizationFilter@87affb5, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@356c8fa9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@61b5c8a3, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@279c94ad, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@4b7272d6, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@1ec22804]] (7/8)
2025-03-11T01:27:30.501-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@66f16b3e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1969cb8, org.springframework.security.web.context.SecurityContextHolderFilter@4afad6bd, org.springframework.security.web.header.HeaderWriterFilter@c9cd06e, org.springframework.security.web.authentication.logout.LogoutFilter@43e587cd, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@1ff9d66b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@711329fe, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4a9d0c6f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2088e339, kleberlz.libraryapi.security.JwtCustomAuthenticationFilter@3b8c15de, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@de0922c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@35c344ce, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@77ffbe85, org.springframework.security.web.access.ExceptionTranslationFilter@42ff5c92, org.springframework.security.web.access.intercept.AuthorizationFilter@de4bee9]] (8/8)
2025-03-11T01:27:30.501-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /clients
2025-03-11T01:27:30.501-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-11T01:27:30.501-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-11T01:27:30.501-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-11T01:27:30.501-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-11T01:27:30.501-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-11T01:27:30.501-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-11T01:27:30.501-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-11T01:27:30.501-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-11T01:27:30.501-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-11T01:27:30.501-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-11T01:27:30.502-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-11T01:27:30.502-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-11T01:27:30.502-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-03-11T01:27:30.512-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Returning no authorities since could not find any claims that might contain scopes
2025-03-11T01:27:30.513-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-03-11T01:27:30.513-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@d17664c9, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-03-11T01:27:30.513-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-11T01:27:30.519-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-11T01:27:30.519-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-11T01:27:30.519-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-11T01:27:30.519-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-11T01:27:30.520-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-11T01:27:30.520-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-11T01:27:30.520-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing POST /clients
2025-03-11T01:27:30.520-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /clients using org.springframework.security.authorization.AuthenticatedAuthorizationManager@20a298aa
2025-03-11T01:27:30.520-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated kleberlz.libraryapi.security.CustomAuthentication@19b57d11
2025-03-11T01:27:30.520-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /clients
2025-03-11T01:27:30.520-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/clients", parameters={}
2025-03-11T01:27:30.521-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to kleberlz.libraryapi.controller.ClientController#salvar(Client)
2025-03-11T01:27:30.631-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [Client(id=null, clientId=postman-client, clientSecret=postman-secret, redirectURI=http://localhost:8 (truncated)...]
2025-03-11T01:27:30.639-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public void kleberlz.libraryapi.controller.ClientController.salvar(kleberlz.libraryapi.model.Client); target is of class [kleberlz.libraryapi.controller.ClientController]
2025-03-11T01:27:30.650-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-1] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public void kleberlz.libraryapi.controller.ClientController.salvar(kleberlz.libraryapi.model.Client); target is of class [kleberlz.libraryapi.controller.ClientController]
2025-03-11T01:27:30.931-03:00 DEBUG 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-03-11T01:27:30.931-03:00 TRACE 1452 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-11T01:29:10.903-03:00 DEBUG 3428 --- [libraryapi] [main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@26a529dc
2025-03-11T01:29:12.756-03:00  WARN 3428 --- [libraryapi] [main] com.zaxxer.hikari.HikariConfig           : library-db-pool - idleTimeout is close to or more than maxLifetime, disabling it.
2025-03-11T01:29:16.171-03:00  WARN 3428 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-11T01:29:16.191-03:00 TRACE 3428 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authorizationServerConfiguration=kleberlz.libraryapi.config.AuthorizationServerConfiguration$$SpringCGLIB$$0@7f6936cc, securityConfiguration=kleberlz.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@4ac26092}
2025-03-11T01:29:16.193-03:00  INFO 3428 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-11T01:29:16.366-03:00 DEBUG 3428 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-03-11T01:29:16.378-03:00 DEBUG 3428 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-11T01:29:16.503-03:00 DEBUG 3428 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-11T01:29:17.020-03:00 DEBUG 3428 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x000002c037adcf98@55f2e76a with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-03-11T01:29:17.067-03:00 DEBUG 3428 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-11T01:29:17.075-03:00  WARN 3428 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:29:17.075-03:00 DEBUG 3428 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-03-11T01:29:17.076-03:00  WARN 3428 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:29:17.076-03:00 DEBUG 3428 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-03-11T01:29:17.076-03:00  WARN 3428 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:29:17.076-03:00 DEBUG 3428 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-03-11T01:29:17.076-03:00  WARN 3428 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:29:17.076-03:00 DEBUG 3428 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-03-11T01:29:17.077-03:00  WARN 3428 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:29:17.077-03:00 DEBUG 3428 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-03-11T01:29:17.077-03:00  WARN 3428 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:29:17.077-03:00 DEBUG 3428 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-03-11T01:29:17.146-03:00 DEBUG 3428 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-11T01:29:17.180-03:00 DEBUG 3428 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-11T01:29:19.171-03:00  WARN 3428 --- [libraryapi] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 23502
2025-03-11T01:29:19.172-03:00 ERROR 3428 --- [libraryapi] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: null value in column "id_autor" of relation "livro" violates not-null constraint
  Detalhe: Failing row contains (43c091c5-cc6a-4c61-8a4b-7bee7956bca6, 90887-84874, Terceiro Livro, 1980-01-02, FICCAO, 100.00, 2025-03-11 01:29:19.152167, 2025-03-11 01:29:19.152167, null, null).
2025-03-11T01:29:19.562-03:00 DEBUG 3428 --- [libraryapi] [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@26a529dc, started on Tue Mar 11 01:29:10 BRT 2025
2025-03-11T01:29:28.367-03:00  WARN 16128 --- [libraryapi] [main] com.zaxxer.hikari.HikariConfig           : library-db-pool - idleTimeout is close to or more than maxLifetime, disabling it.
2025-03-11T01:29:31.503-03:00  WARN 16128 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-11T01:29:31.519-03:00 TRACE 16128 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authorizationServerConfiguration=kleberlz.libraryapi.config.AuthorizationServerConfiguration$$SpringCGLIB$$0@2279e7c7, securityConfiguration=kleberlz.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@247877f3}
2025-03-11T01:29:31.521-03:00  INFO 16128 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-11T01:29:31.654-03:00 DEBUG 16128 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-03-11T01:29:31.674-03:00 DEBUG 16128 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-11T01:29:31.719-03:00 DEBUG 16128 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-11T01:29:32.257-03:00 DEBUG 16128 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028e33a9e938@63a9ab7d with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-03-11T01:29:32.307-03:00 DEBUG 16128 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-11T01:29:32.314-03:00  WARN 16128 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:29:32.314-03:00 DEBUG 16128 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-03-11T01:29:32.315-03:00  WARN 16128 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:29:32.315-03:00 DEBUG 16128 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-03-11T01:29:32.315-03:00  WARN 16128 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:29:32.315-03:00 DEBUG 16128 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-03-11T01:29:32.315-03:00  WARN 16128 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:29:32.315-03:00 DEBUG 16128 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-03-11T01:29:32.315-03:00  WARN 16128 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:29:32.315-03:00 DEBUG 16128 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-03-11T01:29:32.315-03:00  WARN 16128 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:29:32.315-03:00 DEBUG 16128 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-03-11T01:29:32.370-03:00 DEBUG 16128 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-11T01:29:32.401-03:00 DEBUG 16128 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-11T01:29:44.952-03:00  INFO 16128 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-11T01:29:44.952-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-03-11T01:29:44.952-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-03-11T01:29:44.952-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-03-11T01:29:44.953-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3396d2a6
2025-03-11T01:29:44.953-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@681f5a1e
2025-03-11T01:29:44.954-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-03-11T01:29:44.954-03:00  INFO 16128 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-03-11T01:29:44.968-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-11T01:29:44.969-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-11T01:29:44.969-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-11T01:29:44.969-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-11T01:29:44.969-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-11T01:29:44.970-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-11T01:29:44.970-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028e33a9e938@63a9ab7d, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@41f790b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@63c6c19e, org.springframework.security.web.context.SecurityContextHolderFilter@5f8a0d7f, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@52c22bc5, org.springframework.security.web.header.HeaderWriterFilter@fcecc45, org.springframework.security.web.csrf.CsrfFilter@54543211, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@570f2cf7, org.springframework.security.web.authentication.logout.LogoutFilter@47814094, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@1cf5236d, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4a9cb9d8, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@6dd729, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@419df81e, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@48ca44cd, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@19f3c1f7, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5b4433dc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1e072d67, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a4f3df4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@72216f0b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7016bfe0, org.springframework.security.web.access.ExceptionTranslationFilter@34ef9879, org.springframework.security.web.access.intercept.AuthorizationFilter@5be17e53, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@65b9ebee, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@c21c296, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4a3b0387, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@2f71bb66, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@2d0f850]] (7/8)
2025-03-11T01:29:44.970-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7fc79fcd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@ef761f, org.springframework.security.web.context.SecurityContextHolderFilter@4a9d0c6f, org.springframework.security.web.header.HeaderWriterFilter@43e587cd, org.springframework.security.web.authentication.logout.LogoutFilter@400c0d26, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@37c5e2e6, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@3beee525, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1b261005, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2324e26c, kleberlz.libraryapi.security.JwtCustomAuthenticationFilter@4a49ce3a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6557d4c6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@de4bee9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55708dad, org.springframework.security.web.access.ExceptionTranslationFilter@5fb6fdb8, org.springframework.security.web.access.intercept.AuthorizationFilter@55704859]] (8/8)
2025-03-11T01:29:44.971-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /clients
2025-03-11T01:29:44.972-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-11T01:29:44.972-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-11T01:29:44.974-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-11T01:29:44.976-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-11T01:29:44.978-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-11T01:29:44.978-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-11T01:29:44.978-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-11T01:29:44.978-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-11T01:29:44.978-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-11T01:29:44.979-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-11T01:29:44.979-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-11T01:29:44.979-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-11T01:29:44.981-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-03-11T01:29:45.023-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.oauth2.jwt.NimbusJwtDecoder        : Failed to process JWT

com.nimbusds.jose.proc.BadJOSEException: Signed JWT rejected: Another algorithm expected, or no matching key(s) found
	at com.nimbusds.jwt.proc.DefaultJWTProcessor.process(DefaultJWTProcessor.java:357) ~[nimbus-jose-jwt-9.37.3.jar:9.37.3]
	at com.nimbusds.jwt.proc.DefaultJWTProcessor.process(DefaultJWTProcessor.java:303) ~[nimbus-jose-jwt-9.37.3.jar:9.37.3]
	at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.createJwt(NimbusJwtDecoder.java:158) ~[spring-security-oauth2-jose-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.decode(NimbusJwtDecoder.java:138) ~[spring-security-oauth2-jose-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:99) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.authenticate(JwtAuthenticationProvider.java:88) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:137) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-03-11T01:29:45.027-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Failed to authenticate since the JWT was invalid
2025-03-11T01:29:45.031-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Failed to process authentication request

org.springframework.security.oauth2.server.resource.InvalidBearerTokenException: An error occurred while attempting to decode the Jwt: Signed JWT rejected: Another algorithm expected, or no matching key(s) found
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:103) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.authenticate(JwtAuthenticationProvider.java:88) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182) ~[spring-security-core-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:137) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: org.springframework.security.oauth2.jwt.BadJwtException: An error occurred while attempting to decode the Jwt: Signed JWT rejected: Another algorithm expected, or no matching key(s) found
	at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.createJwt(NimbusJwtDecoder.java:184) ~[spring-security-oauth2-jose-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.decode(NimbusJwtDecoder.java:138) ~[spring-security-oauth2-jose-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:99) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	... 61 common frames omitted
Caused by: com.nimbusds.jose.proc.BadJOSEException: Signed JWT rejected: Another algorithm expected, or no matching key(s) found
	at com.nimbusds.jwt.proc.DefaultJWTProcessor.process(DefaultJWTProcessor.java:357) ~[nimbus-jose-jwt-9.37.3.jar:9.37.3]
	at com.nimbusds.jwt.proc.DefaultJWTProcessor.process(DefaultJWTProcessor.java:303) ~[nimbus-jose-jwt-9.37.3.jar:9.37.3]
	at org.springframework.security.oauth2.jwt.NimbusJwtDecoder.createJwt(NimbusJwtDecoder.java:158) ~[spring-security-oauth2-jose-6.3.3.jar:6.3.3]
	... 63 common frames omitted

2025-03-11T01:29:45.033-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-11T01:30:01.353-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-11T01:30:01.354-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-11T01:30:01.355-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-11T01:30:01.355-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-11T01:30:01.355-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-11T01:30:01.355-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-11T01:30:01.356-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028e33a9e938@63a9ab7d, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@41f790b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@63c6c19e, org.springframework.security.web.context.SecurityContextHolderFilter@5f8a0d7f, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@52c22bc5, org.springframework.security.web.header.HeaderWriterFilter@fcecc45, org.springframework.security.web.csrf.CsrfFilter@54543211, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@570f2cf7, org.springframework.security.web.authentication.logout.LogoutFilter@47814094, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@1cf5236d, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4a9cb9d8, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@6dd729, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@419df81e, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@48ca44cd, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@19f3c1f7, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5b4433dc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1e072d67, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a4f3df4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@72216f0b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7016bfe0, org.springframework.security.web.access.ExceptionTranslationFilter@34ef9879, org.springframework.security.web.access.intercept.AuthorizationFilter@5be17e53, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@65b9ebee, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@c21c296, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4a3b0387, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@2f71bb66, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@2d0f850]] (7/8)
2025-03-11T01:30:01.356-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-11T01:30:01.357-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-03-11T01:30:01.357-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-03-11T01:30:01.357-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-03-11T01:30:01.357-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-03-11T01:30:01.365-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-03-11T01:30:01.365-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-03-11T01:30:01.367-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028e33a9e938@63a9ab7d, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@36d02719]]]
2025-03-11T01:30:01.367-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-03-11T01:30:01.367-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-03-11T01:30:01.368-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-11T01:30:01.368-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-03-11T01:30:01.368-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-03-11T01:30:01.370-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-03-11T01:30:01.371-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-11T01:30:01.371-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-11T01:30:01.372-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-03-11T01:30:01.520-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-03-11T01:30:01.522-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-03-11T01:30:01.522-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] izationCodeRequestAuthenticationProvider : Did not authenticate authorization code request since principal not authenticated
2025-03-11T01:30:01.522-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-03-11T01:30:01.523-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-03-11T01:30:01.523-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-03-11T01:30:01.523-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-03-11T01:30:01.523-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/26)
2025-03-11T01:30:01.523-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-11T01:30:01.523-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/26)
2025-03-11T01:30:01.523-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-11T01:30:01.523-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/26)
2025-03-11T01:30:01.523-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-11T01:30:01.523-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/26)
2025-03-11T01:30:01.525-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/26)
2025-03-11T01:30:01.526-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/26)
2025-03-11T01:30:01.527-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (21/26)
2025-03-11T01:30:01.528-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Authorizing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-11T01:30:01.528-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized using org.springframework.security.authorization.AuthenticatedAuthorizationManager@4ab976e4
2025-03-11T01:30:01.529-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-11T01:30:01.530-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter.doFilterInternal(OAuth2ClientAuthenticationFilter.java:129) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter.doFilterInternal(NimbusJwkSetEndpointFilter.java:88) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter.doFilterInternal(OidcProviderConfigurationEndpointFilter.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter.doFilterInternal(OAuth2DeviceVerificationEndpointFilter.java:152) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:192) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-03-11T01:30:01.549-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue to session
2025-03-11T01:30:01.549-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST]]
2025-03-11T01:30:01.552-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@36d02719, RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@707b0b9b, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@707b0b9b, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@707b0b9b, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-03-11T01:30:01.552-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@707b0b9b, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-03-11T01:30:01.553-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-3] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@2936f48a
2025-03-11T01:30:01.553-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-03-11T01:30:01.554-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-11T01:30:01.561-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-11T01:30:01.562-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-11T01:30:01.562-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-11T01:30:01.562-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-11T01:30:01.562-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-11T01:30:01.563-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-11T01:30:01.563-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028e33a9e938@63a9ab7d, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@41f790b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@63c6c19e, org.springframework.security.web.context.SecurityContextHolderFilter@5f8a0d7f, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@52c22bc5, org.springframework.security.web.header.HeaderWriterFilter@fcecc45, org.springframework.security.web.csrf.CsrfFilter@54543211, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@570f2cf7, org.springframework.security.web.authentication.logout.LogoutFilter@47814094, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@1cf5236d, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4a9cb9d8, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@6dd729, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@419df81e, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@48ca44cd, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@19f3c1f7, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5b4433dc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1e072d67, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a4f3df4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@72216f0b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7016bfe0, org.springframework.security.web.access.ExceptionTranslationFilter@34ef9879, org.springframework.security.web.access.intercept.AuthorizationFilter@5be17e53, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@65b9ebee, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@c21c296, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4a3b0387, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@2f71bb66, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@2d0f850]] (7/8)
2025-03-11T01:30:01.563-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7fc79fcd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@ef761f, org.springframework.security.web.context.SecurityContextHolderFilter@4a9d0c6f, org.springframework.security.web.header.HeaderWriterFilter@43e587cd, org.springframework.security.web.authentication.logout.LogoutFilter@400c0d26, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@37c5e2e6, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@3beee525, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1b261005, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2324e26c, kleberlz.libraryapi.security.JwtCustomAuthenticationFilter@4a49ce3a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6557d4c6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@de4bee9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55708dad, org.springframework.security.web.access.ExceptionTranslationFilter@5fb6fdb8, org.springframework.security.web.access.intercept.AuthorizationFilter@55704859]] (8/8)
2025-03-11T01:30:01.563-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-03-11T01:30:01.563-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-11T01:30:01.563-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-11T01:30:01.563-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-11T01:30:01.564-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-11T01:30:01.564-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-11T01:30:01.564-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-11T01:30:01.564-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-11T01:30:01.564-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-11T01:30:01.564-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-4] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-11T01:30:01.564-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-11T01:30:01.564-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-11T01:30:01.564-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-11T01:30:01.564-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-4] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-11T01:30:01.565-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-11T01:30:01.565-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession C82BE402DEBD450C95F6C226BF51B726 using the SPRING_SECURITY_CONTEXT session attribute
2025-03-11T01:30:01.565-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-11T01:30:01.565-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-4] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-11T01:30:01.565-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-11T01:30:01.565-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-11T01:30:01.565-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-11T01:30:01.565-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-11T01:30:01.565-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-11T01:30:01.565-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-11T01:30:01.566-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-03-11T01:30:01.566-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-4] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000028e33a9ef88@3c41d6b7
2025-03-11T01:30:01.566-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-03-11T01:30:01.569-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-03-11T01:30:01.571-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-03-11T01:30:01.818-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-11T01:30:01.820-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-03-11T01:30:01.821-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=C82BE402DEBD450C95F6C226BF51B726], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-11T01:30:06.900-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-11T01:30:06.900-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-11T01:30:06.900-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-11T01:30:06.901-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-11T01:30:06.901-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-11T01:30:06.901-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-11T01:30:06.901-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028e33a9e938@63a9ab7d, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@41f790b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@63c6c19e, org.springframework.security.web.context.SecurityContextHolderFilter@5f8a0d7f, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@52c22bc5, org.springframework.security.web.header.HeaderWriterFilter@fcecc45, org.springframework.security.web.csrf.CsrfFilter@54543211, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@570f2cf7, org.springframework.security.web.authentication.logout.LogoutFilter@47814094, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@1cf5236d, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4a9cb9d8, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@6dd729, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@419df81e, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@48ca44cd, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@19f3c1f7, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5b4433dc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1e072d67, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a4f3df4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@72216f0b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7016bfe0, org.springframework.security.web.access.ExceptionTranslationFilter@34ef9879, org.springframework.security.web.access.intercept.AuthorizationFilter@5be17e53, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@65b9ebee, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@c21c296, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4a3b0387, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@2f71bb66, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@2d0f850]] (7/8)
2025-03-11T01:30:06.901-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7fc79fcd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@ef761f, org.springframework.security.web.context.SecurityContextHolderFilter@4a9d0c6f, org.springframework.security.web.header.HeaderWriterFilter@43e587cd, org.springframework.security.web.authentication.logout.LogoutFilter@400c0d26, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@37c5e2e6, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@3beee525, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1b261005, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2324e26c, kleberlz.libraryapi.security.JwtCustomAuthenticationFilter@4a49ce3a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6557d4c6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@de4bee9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55708dad, org.springframework.security.web.access.ExceptionTranslationFilter@5fb6fdb8, org.springframework.security.web.access.intercept.AuthorizationFilter@55704859]] (8/8)
2025-03-11T01:30:06.901-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /login
2025-03-11T01:30:06.901-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-11T01:30:06.901-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-11T01:30:06.902-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-11T01:30:06.902-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-11T01:30:06.902-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-11T01:30:06.902-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-11T01:30:06.902-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-11T01:30:06.902-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-11T01:30:06.902-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-5] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-11T01:30:06.902-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-5] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-11T01:30:06.902-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-03-11T01:30:06.988-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-5] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-03-11T01:30:06.989-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-5] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from C82BE402DEBD450C95F6C226BF51B726
2025-03-11T01:30:06.989-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-5] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=kleberlz.libraryapi.security.CustomAuthentication@7a13b979] to HttpSession [org.apache.catalina.session.StandardSessionFacade@242e84ab]
2025-03-11T01:30:06.990-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-5] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to kleberlz.libraryapi.security.CustomAuthentication@7a13b979
2025-03-11T01:30:06.990-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue
2025-03-11T01:30:06.990-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-5] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-11T01:30:06.997-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-11T01:30:06.997-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-11T01:30:06.998-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-11T01:30:06.998-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-11T01:30:06.998-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-11T01:30:06.999-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-11T01:30:06.999-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028e33a9e938@63a9ab7d, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@41f790b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@63c6c19e, org.springframework.security.web.context.SecurityContextHolderFilter@5f8a0d7f, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@52c22bc5, org.springframework.security.web.header.HeaderWriterFilter@fcecc45, org.springframework.security.web.csrf.CsrfFilter@54543211, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@570f2cf7, org.springframework.security.web.authentication.logout.LogoutFilter@47814094, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@1cf5236d, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4a9cb9d8, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@6dd729, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@419df81e, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@48ca44cd, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@19f3c1f7, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5b4433dc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1e072d67, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a4f3df4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@72216f0b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7016bfe0, org.springframework.security.web.access.ExceptionTranslationFilter@34ef9879, org.springframework.security.web.access.intercept.AuthorizationFilter@5be17e53, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@65b9ebee, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@c21c296, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4a3b0387, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@2f71bb66, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@2d0f850]] (7/8)
2025-03-11T01:30:06.999-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue
2025-03-11T01:30:06.999-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-03-11T01:30:06.999-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-03-11T01:30:06.999-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-03-11T01:30:07.000-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-03-11T01:30:07.000-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-03-11T01:30:07.000-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-03-11T01:30:07.000-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028e33a9e938@63a9ab7d, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@36d02719]]]
2025-03-11T01:30:07.000-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-03-11T01:30:07.001-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-03-11T01:30:07.001-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-11T01:30:07.001-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-03-11T01:30:07.001-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-03-11T01:30:07.001-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=kleberlz.libraryapi.security.CustomAuthentication@7a13b979] from SPRING_SECURITY_CONTEXT
2025-03-11T01:30:07.002-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-03-11T01:30:07.006-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-6] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-03-11T01:30:07.006-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-6] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-03-11T01:30:07.012-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-6] izationCodeRequestAuthenticationProvider : Generated authorization code
2025-03-11T01:30:07.013-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-6] izationCodeRequestAuthenticationProvider : Saved authorization
2025-03-11T01:30:07.013-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-6] izationCodeRequestAuthenticationProvider : Authenticated authorization code request
2025-03-11T01:30:07.014-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/authorized?code=aJrJMvhrp37bmQ_S49PH42SnuQur67Sw3nGMtoJ7YcRF4ra7Lh2va-3hgGsSjxqkRdZclrVFqCLSLxFD5pVKiqjJNgYXOqms_CehS7IBDuXc7QYzLqXruNB9RE38IVaL
2025-03-11T01:30:07.014-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-6] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-11T01:30:07.328-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-11T01:30:07.328-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-11T01:30:07.328-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-11T01:30:07.328-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-11T01:30:07.328-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-11T01:30:07.328-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-11T01:30:07.328-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028e33a9e938@63a9ab7d, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@41f790b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@63c6c19e, org.springframework.security.web.context.SecurityContextHolderFilter@5f8a0d7f, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@52c22bc5, org.springframework.security.web.header.HeaderWriterFilter@fcecc45, org.springframework.security.web.csrf.CsrfFilter@54543211, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@570f2cf7, org.springframework.security.web.authentication.logout.LogoutFilter@47814094, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@1cf5236d, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4a9cb9d8, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@6dd729, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@419df81e, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@48ca44cd, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@19f3c1f7, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5b4433dc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1e072d67, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a4f3df4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@72216f0b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7016bfe0, org.springframework.security.web.access.ExceptionTranslationFilter@34ef9879, org.springframework.security.web.access.intercept.AuthorizationFilter@5be17e53, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@65b9ebee, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@c21c296, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4a3b0387, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@2f71bb66, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@2d0f850]] (7/8)
2025-03-11T01:30:07.329-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-03-11T01:30:07.329-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-03-11T01:30:07.329-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-03-11T01:30:07.329-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-03-11T01:30:07.329-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-03-11T01:30:07.329-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-03-11T01:30:07.329-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-03-11T01:30:07.329-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028e33a9e938@63a9ab7d, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@36d02719]]]
2025-03-11T01:30:07.329-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-03-11T01:30:07.329-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-03-11T01:30:07.329-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-11T01:30:07.329-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-03-11T01:30:07.330-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-03-11T01:30:07.330-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-03-11T01:30:07.330-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-03-11T01:30:07.330-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-03-11T01:30:07.331-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-03-11T01:30:07.332-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/20)
2025-03-11T01:30:07.333-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/20)
2025-03-11T01:30:07.333-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/20)
2025-03-11T01:30:07.337-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] s.a.a.ClientSecretAuthenticationProvider : Retrieved registered client
2025-03-11T01:30:07.399-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] s.a.a.ClientSecretAuthenticationProvider : Validated client authentication parameters
2025-03-11T01:30:07.400-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Retrieved authorization with authorization code
2025-03-11T01:30:07.400-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Did not authenticate code verifier since requireProofKey=false
2025-03-11T01:30:07.400-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] s.a.a.ClientSecretAuthenticationProvider : Authenticated client secret
2025-03-11T01:30:07.400-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.a.w.OAuth2ClientAuthenticationFilter : Set SecurityContextHolder authentication to OAuth2ClientAuthenticationToken
2025-03-11T01:30:07.400-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/26)
2025-03-11T01:30:07.400-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-11T01:30:07.400-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/26)
2025-03-11T01:30:07.401-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-11T01:30:07.401-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/26)
2025-03-11T01:30:07.401-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-11T01:30:07.401-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/26)
2025-03-11T01:30:07.401-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/26)
2025-03-11T01:30:07.401-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/26)
2025-03-11T01:30:07.401-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (21/26)
2025-03-11T01:30:07.401-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing POST /oauth2/token
2025-03-11T01:30:07.401-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /oauth2/token using org.springframework.security.authorization.AuthenticatedAuthorizationManager@4ab976e4
2025-03-11T01:30:07.401-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2ClientAuthenticationToken [Principal=meu-client, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-03-11T01:30:07.402-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (22/26)
2025-03-11T01:30:07.403-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeAuthenticationProvider (1/20)
2025-03-11T01:30:07.403-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] 2AuthorizationCodeAuthenticationProvider : Retrieved registered client
2025-03-11T01:30:07.404-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] 2AuthorizationCodeAuthenticationProvider : Retrieved authorization with authorization code
2025-03-11T01:30:07.404-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] 2AuthorizationCodeAuthenticationProvider : Validated token request parameters
2025-03-11T01:30:07.421-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] 2AuthorizationCodeAuthenticationProvider : Generated access token
2025-03-11T01:30:07.422-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] 2AuthorizationCodeAuthenticationProvider : Generated refresh token
2025-03-11T01:30:07.423-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] 2AuthorizationCodeAuthenticationProvider : Saved authorization
2025-03-11T01:30:07.423-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] 2AuthorizationCodeAuthenticationProvider : Authenticated token request
2025-03-11T01:30:07.452-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-11T01:30:37.684-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-11T01:30:37.685-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-11T01:30:37.685-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-11T01:30:37.685-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-11T01:30:37.685-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-11T01:30:37.685-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-11T01:30:37.685-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028e33a9e938@63a9ab7d, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@41f790b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@63c6c19e, org.springframework.security.web.context.SecurityContextHolderFilter@5f8a0d7f, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@52c22bc5, org.springframework.security.web.header.HeaderWriterFilter@fcecc45, org.springframework.security.web.csrf.CsrfFilter@54543211, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@570f2cf7, org.springframework.security.web.authentication.logout.LogoutFilter@47814094, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@1cf5236d, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@4a9cb9d8, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@6dd729, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@419df81e, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@48ca44cd, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@19f3c1f7, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5b4433dc, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1e072d67, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a4f3df4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@72216f0b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7016bfe0, org.springframework.security.web.access.ExceptionTranslationFilter@34ef9879, org.springframework.security.web.access.intercept.AuthorizationFilter@5be17e53, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@65b9ebee, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@c21c296, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@4a3b0387, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@2f71bb66, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@2d0f850]] (7/8)
2025-03-11T01:30:37.686-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@7fc79fcd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@ef761f, org.springframework.security.web.context.SecurityContextHolderFilter@4a9d0c6f, org.springframework.security.web.header.HeaderWriterFilter@43e587cd, org.springframework.security.web.authentication.logout.LogoutFilter@400c0d26, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@37c5e2e6, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@3beee525, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1b261005, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2324e26c, kleberlz.libraryapi.security.JwtCustomAuthenticationFilter@4a49ce3a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6557d4c6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@de4bee9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55708dad, org.springframework.security.web.access.ExceptionTranslationFilter@5fb6fdb8, org.springframework.security.web.access.intercept.AuthorizationFilter@55704859]] (8/8)
2025-03-11T01:30:37.686-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /clients
2025-03-11T01:30:37.686-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-11T01:30:37.686-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-11T01:30:37.686-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-11T01:30:37.686-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-11T01:30:37.686-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-11T01:30:37.686-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-11T01:30:37.686-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-11T01:30:37.686-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-11T01:30:37.686-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-9] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-11T01:30:37.686-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-11T01:30:37.687-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-9] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-11T01:30:37.687-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-11T01:30:37.687-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-03-11T01:30:37.691-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-9] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Returning no authorities since could not find any claims that might contain scopes
2025-03-11T01:30:37.691-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-03-11T01:30:37.691-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-9] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@b509505a, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-03-11T01:30:37.691-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-11T01:30:37.697-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-11T01:30:37.698-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-11T01:30:37.698-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-11T01:30:37.698-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-11T01:30:37.698-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-11T01:30:37.698-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-11T01:30:37.698-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Authorizing POST /clients
2025-03-11T01:30:37.698-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-9] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /clients using org.springframework.security.authorization.AuthenticatedAuthorizationManager@3c3ff6dd
2025-03-11T01:30:37.698-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated kleberlz.libraryapi.security.CustomAuthentication@6beb6561
2025-03-11T01:30:37.698-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /clients
2025-03-11T01:30:37.699-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/clients", parameters={}
2025-03-11T01:30:37.699-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to kleberlz.libraryapi.controller.ClientController#salvar(Client)
2025-03-11T01:30:37.763-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [Client(id=null, clientId=postman2-client, clientSecret=postman2-secret, redirectURI=http://localhost (truncated)...]
2025-03-11T01:30:37.771-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public void kleberlz.libraryapi.controller.ClientController.salvar(kleberlz.libraryapi.model.Client); target is of class [kleberlz.libraryapi.controller.ClientController]
2025-03-11T01:30:37.779-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-9] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public void kleberlz.libraryapi.controller.ClientController.salvar(kleberlz.libraryapi.model.Client); target is of class [kleberlz.libraryapi.controller.ClientController]
2025-03-11T01:30:37.905-03:00 DEBUG 16128 --- [libraryapi] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-03-11T01:30:37.906-03:00 TRACE 16128 --- [libraryapi] [http-nio-8080-exec-9] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-11T01:40:30.633-03:00  INFO 17908 --- [libraryapi] [main] k.libraryapi.LibraryapiApplication       : Starting LibraryapiApplication using Java 21.0.2 with PID 17908 (C:\Users\Junior\Desktop\especialista--springboot\libraryapi\target\classes started by Junior in C:\Users\Junior\Desktop\especialista--springboot\libraryapi)
2025-03-11T01:40:30.636-03:00  INFO 17908 --- [libraryapi] [main] k.libraryapi.LibraryapiApplication       : No active profile set, falling back to 1 default profile: "default"
2025-03-11T01:40:31.859-03:00  INFO 17908 --- [libraryapi] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-11T01:40:31.957-03:00  INFO 17908 --- [libraryapi] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 86 ms. Found 4 JPA repository interfaces.
2025-03-11T01:40:32.914-03:00  INFO 17908 --- [libraryapi] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-03-11T01:40:32.931-03:00  INFO 17908 --- [libraryapi] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-11T01:40:32.931-03:00  INFO 17908 --- [libraryapi] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.30]
2025-03-11T01:40:33.050-03:00  INFO 17908 --- [libraryapi] [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-03-11T01:40:33.051-03:00  INFO 17908 --- [libraryapi] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2362 ms
2025-03-11T01:40:33.111-03:00  WARN 17908 --- [libraryapi] [main] com.zaxxer.hikari.HikariConfig           : library-db-pool - idleTimeout is close to or more than maxLifetime, disabling it.
2025-03-11T01:40:33.120-03:00  INFO 17908 --- [libraryapi] [main] com.zaxxer.hikari.HikariDataSource       : library-db-pool - Starting...
2025-03-11T01:40:33.344-03:00  INFO 17908 --- [libraryapi] [main] com.zaxxer.hikari.pool.HikariPool        : library-db-pool - Added connection org.postgresql.jdbc.PgConnection@5a7b6b75
2025-03-11T01:40:33.345-03:00  INFO 17908 --- [libraryapi] [main] com.zaxxer.hikari.HikariDataSource       : library-db-pool - Start completed.
2025-03-11T01:40:33.463-03:00  INFO 17908 --- [libraryapi] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-11T01:40:33.553-03:00  INFO 17908 --- [libraryapi] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2025-03-11T01:40:33.604-03:00  INFO 17908 --- [libraryapi] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-11T01:40:34.093-03:00  INFO 17908 --- [libraryapi] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-11T01:40:35.147-03:00  INFO 17908 --- [libraryapi] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-11T01:40:35.150-03:00  INFO 17908 --- [libraryapi] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-11T01:40:35.569-03:00  INFO 17908 --- [libraryapi] [main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-03-11T01:40:36.446-03:00  WARN 17908 --- [libraryapi] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-11T01:40:36.462-03:00 TRACE 17908 --- [libraryapi] [main] eGlobalAuthenticationAutowiredConfigurer : Eagerly initializing {authorizationServerConfiguration=kleberlz.libraryapi.config.AuthorizationServerConfiguration$$SpringCGLIB$$0@64ff0eaa, securityConfiguration=kleberlz.libraryapi.config.SecurityConfiguration$$SpringCGLIB$$0@489989eb}
2025-03-11T01:40:36.465-03:00  INFO 17908 --- [libraryapi] [main] eAuthenticationProviderManagerConfigurer : Global AuthenticationManager configured with AuthenticationProvider bean with name customAuthenticationProvider
2025-03-11T01:40:36.627-03:00 DEBUG 17908 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 21 mappings in 'requestMappingHandlerMapping'
2025-03-11T01:40:36.641-03:00 DEBUG 17908 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/login] in 'viewControllerHandlerMapping'
2025-03-11T01:40:36.676-03:00 DEBUG 17908 --- [libraryapi] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-11T01:40:37.297-03:00 DEBUG 17908 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028690a9cf98@72fb922c with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, AuthorizationServerContextFilter, HeaderWriterFilter, CsrfFilter, OidcLogoutEndpointFilter, LogoutFilter, OAuth2AuthorizationServerMetadataEndpointFilter, OAuth2AuthorizationEndpointFilter, OAuth2DeviceVerificationEndpointFilter, OidcProviderConfigurationEndpointFilter, NimbusJwkSetEndpointFilter, OAuth2ClientAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter, OAuth2TokenEndpointFilter, OAuth2TokenIntrospectionEndpointFilter, OAuth2TokenRevocationEndpointFilter, OAuth2DeviceAuthorizationEndpointFilter, OidcUserInfoEndpointFilter
2025-03-11T01:40:37.341-03:00 DEBUG 17908 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, OAuth2AuthorizationRequestRedirectFilter, OAuth2LoginAuthenticationFilter, UsernamePasswordAuthenticationFilter, BearerTokenAuthenticationFilter, JwtCustomAuthenticationFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-03-11T01:40:37.348-03:00  WARN 17908 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:40:37.348-03:00 DEBUG 17908 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']]
2025-03-11T01:40:37.349-03:00  WARN 17908 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:40:37.349-03:00 DEBUG 17908 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']]
2025-03-11T01:40:37.349-03:00  WARN 17908 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:40:37.349-03:00 DEBUG 17908 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']]
2025-03-11T01:40:37.349-03:00  WARN 17908 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:40:37.349-03:00 DEBUG 17908 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']]
2025-03-11T01:40:37.349-03:00  WARN 17908 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:40:37.349-03:00 DEBUG 17908 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']]
2025-03-11T01:40:37.349-03:00  WARN 17908 --- [libraryapi] [main] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2025-03-11T01:40:37.349-03:00 DEBUG 17908 --- [libraryapi] [main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']]
2025-03-11T01:40:37.414-03:00 DEBUG 17908 --- [libraryapi] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-11T01:40:37.448-03:00 DEBUG 17908 --- [libraryapi] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-11T01:40:37.813-03:00  INFO 17908 --- [libraryapi] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2025-03-11T01:40:37.823-03:00  INFO 17908 --- [libraryapi] [main] k.libraryapi.LibraryapiApplication       : Started LibraryapiApplication in 7.703 seconds (process running for 8.136)
2025-03-11T01:40:47.045-03:00  INFO 17908 --- [libraryapi] [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-03-11T01:40:47.045-03:00  INFO 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-03-11T01:40:47.045-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-03-11T01:40:47.045-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-03-11T01:40:47.045-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-03-11T01:40:47.046-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@70903e7b
2025-03-11T01:40:47.047-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@58a2c6a
2025-03-11T01:40:47.047-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-03-11T01:40:47.048-03:00  INFO 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-03-11T01:40:47.060-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-11T01:40:47.061-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-11T01:40:47.061-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-11T01:40:47.062-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-11T01:40:47.062-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-11T01:40:47.062-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-11T01:40:47.062-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028690a9cf98@72fb922c, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@6ccc234d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@307e1bc7, org.springframework.security.web.context.SecurityContextHolderFilter@3a2f4611, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2174fda1, org.springframework.security.web.header.HeaderWriterFilter@3fa13835, org.springframework.security.web.csrf.CsrfFilter@297840d7, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@660b8572, org.springframework.security.web.authentication.logout.LogoutFilter@7d0ae3d1, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@7856b790, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@21aa0ec5, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@27c05ed9, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@76ad048a, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2f42f20f, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@6ddab96c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6b29771f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@cee1b4c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19710bd9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ddca64d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@353225ab, org.springframework.security.web.access.ExceptionTranslationFilter@77199818, org.springframework.security.web.access.intercept.AuthorizationFilter@1cea4fdf, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7118a1b9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@7ca29492, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7ba821ef, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@6dd729, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@b15da69]] (7/8)
2025-03-11T01:40:47.063-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-11T01:40:47.063-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-03-11T01:40:47.064-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-03-11T01:40:47.068-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-03-11T01:40:47.070-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-03-11T01:40:47.075-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-03-11T01:40:47.076-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-03-11T01:40:47.077-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028690a9cf98@72fb922c, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@21e5feb]]]
2025-03-11T01:40:47.078-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-03-11T01:40:47.078-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-03-11T01:40:47.078-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-11T01:40:47.078-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-03-11T01:40:47.078-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-03-11T01:40:47.080-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists
2025-03-11T01:40:47.081-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-11T01:40:47.081-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-11T01:40:47.083-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-03-11T01:40:47.209-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-03-11T01:40:47.210-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-03-11T01:40:47.210-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] izationCodeRequestAuthenticationProvider : Did not authenticate authorization code request since principal not authenticated
2025-03-11T01:40:47.210-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-03-11T01:40:47.210-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-03-11T01:40:47.211-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-03-11T01:40:47.211-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-03-11T01:40:47.211-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/26)
2025-03-11T01:40:47.211-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-11T01:40:47.211-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/26)
2025-03-11T01:40:47.211-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-11T01:40:47.211-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/26)
2025-03-11T01:40:47.212-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-11T01:40:47.212-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/26)
2025-03-11T01:40:47.213-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/26)
2025-03-11T01:40:47.213-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/26)
2025-03-11T01:40:47.213-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (21/26)
2025-03-11T01:40:47.214-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Authorizing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized
2025-03-11T01:40:47.215-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6774929a
2025-03-11T01:40:47.215-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-11T01:40:47.216-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.a.ExceptionTranslationFilter     : Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied

org.springframework.security.access.AccessDeniedException: Access Denied
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128) ~[spring-security-oauth2-resource-server-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter.doFilterInternal(OAuth2ClientAuthenticationFilter.java:129) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter.doFilterInternal(NimbusJwkSetEndpointFilter.java:88) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter.doFilterInternal(OidcProviderConfigurationEndpointFilter.java:91) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter.doFilterInternal(OAuth2DeviceVerificationEndpointFilter.java:152) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter.doFilterInternal(OAuth2AuthorizationEndpointFilter.java:192) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter.doFilterInternal(OAuth2AuthorizationServerMetadataEndpointFilter.java:90) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter.doFilterInternal(OidcLogoutEndpointFilter.java:124) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter.doFilterInternal(AuthorizationServerContextFilter.java:69) ~[spring-security-oauth2-authorization-server-1.3.2.jar:1.3.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.3.3.jar:6.3.3]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.13.jar:6.1.13]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.13.jar:6.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.30.jar:10.1.30]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-03-11T01:40:47.241-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue to session
2025-03-11T01:40:47.241-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [Ant [pattern='/oauth2/token', POST], Ant [pattern='/oauth2/introspect', POST], Ant [pattern='/oauth2/revoke', POST], Ant [pattern='/oauth2/device_authorization', POST]]
2025-03-11T01:40:47.243-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using Or [org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@21e5feb, RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@a4aecc3, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@a4aecc3, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@a4aecc3, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]
2025-03-11T01:40:47.244-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.ContentNegotiationManager@a4aecc3, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]
2025-03-11T01:40:47.244-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-1] s.w.a.DelegatingAuthenticationEntryPoint : Match found! Executing org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint@4da929ef
2025-03-11T01:40:47.245-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login
2025-03-11T01:40:47.246-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-1] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-11T01:40:47.256-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-11T01:40:47.256-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-11T01:40:47.257-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-11T01:40:47.257-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-11T01:40:47.257-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-11T01:40:47.257-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-11T01:40:47.257-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028690a9cf98@72fb922c, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@6ccc234d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@307e1bc7, org.springframework.security.web.context.SecurityContextHolderFilter@3a2f4611, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2174fda1, org.springframework.security.web.header.HeaderWriterFilter@3fa13835, org.springframework.security.web.csrf.CsrfFilter@297840d7, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@660b8572, org.springframework.security.web.authentication.logout.LogoutFilter@7d0ae3d1, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@7856b790, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@21aa0ec5, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@27c05ed9, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@76ad048a, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2f42f20f, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@6ddab96c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6b29771f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@cee1b4c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19710bd9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ddca64d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@353225ab, org.springframework.security.web.access.ExceptionTranslationFilter@77199818, org.springframework.security.web.access.intercept.AuthorizationFilter@1cea4fdf, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7118a1b9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@7ca29492, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7ba821ef, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@6dd729, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@b15da69]] (7/8)
2025-03-11T01:40:47.257-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4f03b3f9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5147fd00, org.springframework.security.web.context.SecurityContextHolderFilter@60b90fd3, org.springframework.security.web.header.HeaderWriterFilter@686a08f4, org.springframework.security.web.authentication.logout.LogoutFilter@1c83652d, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3b47178c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4913465d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2eaaef66, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@4aebd384, kleberlz.libraryapi.security.JwtCustomAuthenticationFilter@24ea71d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78494a59, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c79a727, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@263f62ce, org.springframework.security.web.access.ExceptionTranslationFilter@41b6ae51, org.springframework.security.web.access.intercept.AuthorizationFilter@3a8dd899]] (8/8)
2025-03-11T01:40:47.258-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /login
2025-03-11T01:40:47.258-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-11T01:40:47.258-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-11T01:40:47.258-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-11T01:40:47.258-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-11T01:40:47.258-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-11T01:40:47.258-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-11T01:40:47.258-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-11T01:40:47.259-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-11T01:40:47.259-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-2] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-11T01:40:47.259-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-11T01:40:47.259-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-2] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-11T01:40:47.259-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-11T01:40:47.259-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-2] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-11T01:40:47.259-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-11T01:40:47.259-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : Did not find SecurityContext in HttpSession 25E25C69ED55723B5B9C81349C622316 using the SPRING_SECURITY_CONTEXT session attribute
2025-03-11T01:40:47.259-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-11T01:40:47.259-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-2] .s.s.w.c.SupplierDeferredSecurityContext : Created SecurityContextImpl [Null authentication]
2025-03-11T01:40:47.259-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-11T01:40:47.259-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-11T01:40:47.260-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-11T01:40:47.260-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-11T01:40:47.260-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-11T01:40:47.260-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-11T01:40:47.260-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Authorizing GET /login
2025-03-11T01:40:47.261-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-2] estMatcherDelegatingAuthorizationManager : Checking authorization on GET /login using org.springframework.security.config.annotation.web.configurers.AuthorizeHttpRequestsConfigurer$$Lambda/0x0000028690a9d5e8@70dec6d4
2025-03-11T01:40:47.262-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /login
2025-03-11T01:40:47.265-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/login", parameters={}
2025-03-11T01:40:47.268-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view="login"]
2025-03-11T01:40:47.516-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-11T01:40:47.518-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-03-11T01:40:47.519-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=25E25C69ED55723B5B9C81349C622316], Granted Authorities=[ROLE_ANONYMOUS]]
2025-03-11T01:40:52.547-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-11T01:40:52.547-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-11T01:40:52.547-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-11T01:40:52.547-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-11T01:40:52.547-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-11T01:40:52.547-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-11T01:40:52.548-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028690a9cf98@72fb922c, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@6ccc234d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@307e1bc7, org.springframework.security.web.context.SecurityContextHolderFilter@3a2f4611, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2174fda1, org.springframework.security.web.header.HeaderWriterFilter@3fa13835, org.springframework.security.web.csrf.CsrfFilter@297840d7, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@660b8572, org.springframework.security.web.authentication.logout.LogoutFilter@7d0ae3d1, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@7856b790, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@21aa0ec5, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@27c05ed9, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@76ad048a, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2f42f20f, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@6ddab96c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6b29771f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@cee1b4c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19710bd9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ddca64d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@353225ab, org.springframework.security.web.access.ExceptionTranslationFilter@77199818, org.springframework.security.web.access.intercept.AuthorizationFilter@1cea4fdf, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7118a1b9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@7ca29492, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7ba821ef, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@6dd729, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@b15da69]] (7/8)
2025-03-11T01:40:52.548-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4f03b3f9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5147fd00, org.springframework.security.web.context.SecurityContextHolderFilter@60b90fd3, org.springframework.security.web.header.HeaderWriterFilter@686a08f4, org.springframework.security.web.authentication.logout.LogoutFilter@1c83652d, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3b47178c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4913465d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2eaaef66, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@4aebd384, kleberlz.libraryapi.security.JwtCustomAuthenticationFilter@24ea71d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78494a59, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c79a727, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@263f62ce, org.springframework.security.web.access.ExceptionTranslationFilter@41b6ae51, org.springframework.security.web.access.intercept.AuthorizationFilter@3a8dd899]] (8/8)
2025-03-11T01:40:52.548-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /login
2025-03-11T01:40:52.548-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-11T01:40:52.548-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-11T01:40:52.548-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-11T01:40:52.548-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-11T01:40:52.548-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-11T01:40:52.548-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-11T01:40:52.548-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-11T01:40:52.548-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-11T01:40:52.549-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-3] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-11T01:40:52.549-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-11T01:40:52.549-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.authentication.ProviderManager     : Authenticating request with CustomAuthenticationProvider (1/1)
2025-03-11T01:40:52.639-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-3] s.CompositeSessionAuthenticationStrategy : Preparing session with ChangeSessionIdAuthenticationStrategy (1/1)
2025-03-11T01:40:52.639-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-3] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from 25E25C69ED55723B5B9C81349C622316
2025-03-11T01:40:52.640-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-3] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=kleberlz.libraryapi.security.CustomAuthentication@6d714090] to HttpSession [org.apache.catalina.session.StandardSessionFacade@6e7785a5]
2025-03-11T01:40:52.640-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-3] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to kleberlz.libraryapi.security.CustomAuthentication@6d714090
2025-03-11T01:40:52.640-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue
2025-03-11T01:40:52.640-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-3] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-11T01:40:52.646-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-11T01:40:52.647-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-11T01:40:52.647-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-11T01:40:52.647-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-11T01:40:52.647-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-11T01:40:52.647-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-11T01:40:52.647-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028690a9cf98@72fb922c, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@6ccc234d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@307e1bc7, org.springframework.security.web.context.SecurityContextHolderFilter@3a2f4611, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2174fda1, org.springframework.security.web.header.HeaderWriterFilter@3fa13835, org.springframework.security.web.csrf.CsrfFilter@297840d7, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@660b8572, org.springframework.security.web.authentication.logout.LogoutFilter@7d0ae3d1, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@7856b790, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@21aa0ec5, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@27c05ed9, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@76ad048a, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2f42f20f, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@6ddab96c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6b29771f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@cee1b4c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19710bd9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ddca64d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@353225ab, org.springframework.security.web.access.ExceptionTranslationFilter@77199818, org.springframework.security.web.access.intercept.AuthorizationFilter@1cea4fdf, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7118a1b9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@7ca29492, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7ba821ef, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@6dd729, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@b15da69]] (7/8)
2025-03-11T01:40:52.647-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /oauth2/authorize?response_type=code&client_id=meu-client&redirect_uri=http%3A%2F%2Flocalhost%3A8080%2Fauthorized&continue
2025-03-11T01:40:52.647-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-03-11T01:40:52.647-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-03-11T01:40:52.647-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-03-11T01:40:52.648-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-03-11T01:40:52.648-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-03-11T01:40:52.648-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-03-11T01:40:52.648-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028690a9cf98@72fb922c, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@21e5feb]]]
2025-03-11T01:40:52.648-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-03-11T01:40:52.648-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-03-11T01:40:52.648-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-11T01:40:52.648-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-03-11T01:40:52.648-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-03-11T01:40:52.649-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=kleberlz.libraryapi.security.CustomAuthentication@6d714090] from SPRING_SECURITY_CONTEXT
2025-03-11T01:40:52.649-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeRequestAuthenticationProvider (1/20)
2025-03-11T01:40:52.654-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Retrieved registered client
2025-03-11T01:40:52.654-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Validated authorization code request parameters
2025-03-11T01:40:52.661-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Generated authorization code
2025-03-11T01:40:52.661-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Saved authorization
2025-03-11T01:40:52.662-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-4] izationCodeRequestAuthenticationProvider : Authenticated authorization code request
2025-03-11T01:40:52.662-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/authorized?code=NGL0oULsngBE0wgy_RpQszBtR8pCRHrevt6ojpYIvRq3vwmBh3EyhYpxSuMaKTtIt0UGz2PAzlLdPWndw60l9W36-Tmm8fj0kxxMQ8YpPcRggRxOvkSwpKvTLqHw3hBh
2025-03-11T01:40:52.662-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-4] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-11T01:40:53.029-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-11T01:40:53.029-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-11T01:40:53.029-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-11T01:40:53.029-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-11T01:40:53.029-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-11T01:40:53.029-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-11T01:40:53.029-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028690a9cf98@72fb922c, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@6ccc234d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@307e1bc7, org.springframework.security.web.context.SecurityContextHolderFilter@3a2f4611, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2174fda1, org.springframework.security.web.header.HeaderWriterFilter@3fa13835, org.springframework.security.web.csrf.CsrfFilter@297840d7, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@660b8572, org.springframework.security.web.authentication.logout.LogoutFilter@7d0ae3d1, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@7856b790, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@21aa0ec5, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@27c05ed9, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@76ad048a, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2f42f20f, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@6ddab96c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6b29771f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@cee1b4c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19710bd9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ddca64d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@353225ab, org.springframework.security.web.access.ExceptionTranslationFilter@77199818, org.springframework.security.web.access.intercept.AuthorizationFilter@1cea4fdf, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7118a1b9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@7ca29492, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7ba821ef, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@6dd729, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@b15da69]] (7/8)
2025-03-11T01:40:53.029-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /oauth2/token
2025-03-11T01:40:53.029-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/26)
2025-03-11T01:40:53.030-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/26)
2025-03-11T01:40:53.030-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/26)
2025-03-11T01:40:53.030-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationServerContextFilter (4/26)
2025-03-11T01:40:53.030-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (5/26)
2025-03-11T01:40:53.030-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking CsrfFilter (6/26)
2025-03-11T01:40:53.030-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.csrf.CsrfFilter         : Did not protect against CSRF since request did not match And [CsrfNotRequired [TRACE, HEAD, GET, OPTIONS], Not [Or [org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028690a9cf98@72fb922c, org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer$BearerTokenRequestMatcher@21e5feb]]]
2025-03-11T01:40:53.030-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OidcLogoutEndpointFilter (7/26)
2025-03-11T01:40:53.030-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (8/26)
2025-03-11T01:40:53.030-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Ant [pattern='/logout', POST]
2025-03-11T01:40:53.030-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationServerMetadataEndpointFilter (9/26)
2025-03-11T01:40:53.030-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationEndpointFilter (10/26)
2025-03-11T01:40:53.031-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2DeviceVerificationEndpointFilter (11/26)
2025-03-11T01:40:53.031-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OidcProviderConfigurationEndpointFilter (12/26)
2025-03-11T01:40:53.031-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking NimbusJwkSetEndpointFilter (13/26)
2025-03-11T01:40:53.031-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2ClientAuthenticationFilter (14/26)
2025-03-11T01:40:53.032-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with JwtClientAssertionAuthenticationProvider (1/20)
2025-03-11T01:40:53.032-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with X509ClientCertificateAuthenticationProvider (2/20)
2025-03-11T01:40:53.032-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with ClientSecretAuthenticationProvider (3/20)
2025-03-11T01:40:53.036-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] s.a.a.ClientSecretAuthenticationProvider : Retrieved registered client
2025-03-11T01:40:53.098-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] s.a.a.ClientSecretAuthenticationProvider : Validated client authentication parameters
2025-03-11T01:40:53.099-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Retrieved authorization with authorization code
2025-03-11T01:40:53.099-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.o.s.a.a.CodeVerifierAuthenticator  : Did not authenticate code verifier since requireProofKey=false
2025-03-11T01:40:53.099-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] s.a.a.ClientSecretAuthenticationProvider : Authenticated client secret
2025-03-11T01:40:53.099-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.a.w.OAuth2ClientAuthenticationFilter : Set SecurityContextHolder authentication to OAuth2ClientAuthenticationToken
2025-03-11T01:40:53.099-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (15/26)
2025-03-11T01:40:53.099-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-11T01:40:53.100-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (16/26)
2025-03-11T01:40:53.100-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] .s.r.w.a.BearerTokenAuthenticationFilter : Did not process request since did not find bearer token
2025-03-11T01:40:53.100-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (17/26)
2025-03-11T01:40:53.100-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-11T01:40:53.100-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (18/26)
2025-03-11T01:40:53.100-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (19/26)
2025-03-11T01:40:53.100-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (20/26)
2025-03-11T01:40:53.100-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (21/26)
2025-03-11T01:40:53.100-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Authorizing POST /oauth2/token
2025-03-11T01:40:53.100-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /oauth2/token using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6774929a
2025-03-11T01:40:53.101-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated OAuth2ClientAuthenticationToken [Principal=meu-client, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-03-11T01:40:53.101-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Invoking OAuth2TokenEndpointFilter (22/26)
2025-03-11T01:40:53.102-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.authentication.ProviderManager     : Authenticating request with OAuth2AuthorizationCodeAuthenticationProvider (1/20)
2025-03-11T01:40:53.103-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Retrieved registered client
2025-03-11T01:40:53.103-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Retrieved authorization with authorization code
2025-03-11T01:40:53.103-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Validated token request parameters
2025-03-11T01:40:53.154-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Generated access token
2025-03-11T01:40:53.156-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Generated refresh token
2025-03-11T01:40:53.156-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Saved authorization
2025-03-11T01:40:53.156-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] 2AuthorizationCodeAuthenticationProvider : Authenticated token request
2025-03-11T01:40:53.192-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-7] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
2025-03-11T01:41:12.473-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v2/api-docs/**'], Ant [pattern='/v2/api-docs/**']], Filters=[]] (1/8)
2025-03-11T01:41:12.473-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/v3/api-docs/**'], Ant [pattern='/v3/api-docs/**']], Filters=[]] (2/8)
2025-03-11T01:41:12.473-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-resources/**'], Ant [pattern='/swagger-resources/**']], Filters=[]] (3/8)
2025-03-11T01:41:12.473-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui.html'], Ant [pattern='/swagger-ui.html']], Filters=[]] (4/8)
2025-03-11T01:41:12.474-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/swagger-ui/**'], Ant [pattern='/swagger-ui/**']], Filters=[]] (5/8)
2025-03-11T01:41:12.474-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=Deferred [Mvc [pattern='/webjars/**'], Ant [pattern='/webjars/**']], Filters=[]] (6/8)
2025-03-11T01:41:12.474-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer$$Lambda/0x0000028690a9cf98@72fb922c, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@6ccc234d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@307e1bc7, org.springframework.security.web.context.SecurityContextHolderFilter@3a2f4611, org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.AuthorizationServerContextFilter@2174fda1, org.springframework.security.web.header.HeaderWriterFilter@3fa13835, org.springframework.security.web.csrf.CsrfFilter@297840d7, org.springframework.security.oauth2.server.authorization.oidc.web.OidcLogoutEndpointFilter@660b8572, org.springframework.security.web.authentication.logout.LogoutFilter@7d0ae3d1, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationServerMetadataEndpointFilter@7856b790, org.springframework.security.oauth2.server.authorization.web.OAuth2AuthorizationEndpointFilter@21aa0ec5, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceVerificationEndpointFilter@27c05ed9, org.springframework.security.oauth2.server.authorization.oidc.web.OidcProviderConfigurationEndpointFilter@76ad048a, org.springframework.security.oauth2.server.authorization.web.NimbusJwkSetEndpointFilter@2f42f20f, org.springframework.security.oauth2.server.authorization.web.OAuth2ClientAuthenticationFilter@6ddab96c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6b29771f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@cee1b4c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19710bd9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ddca64d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@353225ab, org.springframework.security.web.access.ExceptionTranslationFilter@77199818, org.springframework.security.web.access.intercept.AuthorizationFilter@1cea4fdf, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenEndpointFilter@7118a1b9, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenIntrospectionEndpointFilter@7ca29492, org.springframework.security.oauth2.server.authorization.web.OAuth2TokenRevocationEndpointFilter@7ba821ef, org.springframework.security.oauth2.server.authorization.web.OAuth2DeviceAuthorizationEndpointFilter@6dd729, org.springframework.security.oauth2.server.authorization.oidc.web.OidcUserInfoEndpointFilter@b15da69]] (7/8)
2025-03-11T01:41:12.474-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@4f03b3f9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5147fd00, org.springframework.security.web.context.SecurityContextHolderFilter@60b90fd3, org.springframework.security.web.header.HeaderWriterFilter@686a08f4, org.springframework.security.web.authentication.logout.LogoutFilter@1c83652d, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3b47178c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4913465d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2eaaef66, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@4aebd384, kleberlz.libraryapi.security.JwtCustomAuthenticationFilter@24ea71d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78494a59, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c79a727, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@263f62ce, org.springframework.security.web.access.ExceptionTranslationFilter@41b6ae51, org.springframework.security.web.access.intercept.AuthorizationFilter@3a8dd899]] (8/8)
2025-03-11T01:41:12.474-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /clients
2025-03-11T01:41:12.474-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking DisableEncodeUrlFilter (1/15)
2025-03-11T01:41:12.474-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking WebAsyncManagerIntegrationFilter (2/15)
2025-03-11T01:41:12.474-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderFilter (3/15)
2025-03-11T01:41:12.474-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking HeaderWriterFilter (4/15)
2025-03-11T01:41:12.474-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking LogoutFilter (5/15)
2025-03-11T01:41:12.474-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.logout.LogoutFilter            : Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]
2025-03-11T01:41:12.474-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2AuthorizationRequestRedirectFilter (6/15)
2025-03-11T01:41:12.475-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking OAuth2LoginAuthenticationFilter (7/15)
2025-03-11T01:41:12.475-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-8] .s.o.c.w.OAuth2LoginAuthenticationFilter : Did not match request to Ant [pattern='/login/oauth2/code/*']
2025-03-11T01:41:12.475-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking UsernamePasswordAuthenticationFilter (8/15)
2025-03-11T01:41:12.475-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-8] w.a.UsernamePasswordAuthenticationFilter : Did not match request to Ant [pattern='/login', POST]
2025-03-11T01:41:12.475-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking BearerTokenAuthenticationFilter (9/15)
2025-03-11T01:41:12.476-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.authentication.ProviderManager     : Authenticating request with JwtAuthenticationProvider (1/4)
2025-03-11T01:41:12.485-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-8] s.o.s.r.a.JwtGrantedAuthoritiesConverter : Returning no authorities since could not find any claims that might contain scopes
2025-03-11T01:41:12.485-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.o.s.r.a.JwtAuthenticationProvider  : Authenticated token
2025-03-11T01:41:12.485-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-8] .s.r.w.a.BearerTokenAuthenticationFilter : Set SecurityContextHolder to JwtAuthenticationToken [Principal=org.springframework.security.oauth2.jwt.Jwt@b8f2d9d8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]
2025-03-11T01:41:12.485-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking JwtCustomAuthenticationFilter (10/15)
2025-03-11T01:41:12.490-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking RequestCacheAwareFilter (11/15)
2025-03-11T01:41:12.491-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.s.HttpSessionRequestCache        : matchingRequestParameterName is required for getMatchingRequest to lookup a value, but not provided
2025-03-11T01:41:12.491-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking SecurityContextHolderAwareRequestFilter (12/15)
2025-03-11T01:41:12.491-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AnonymousAuthenticationFilter (13/15)
2025-03-11T01:41:12.491-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking ExceptionTranslationFilter (14/15)
2025-03-11T01:41:12.491-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Invoking AuthorizationFilter (15/15)
2025-03-11T01:41:12.491-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Authorizing POST /clients
2025-03-11T01:41:12.492-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-8] estMatcherDelegatingAuthorizationManager : Checking authorization on POST /clients using org.springframework.security.authorization.AuthenticatedAuthorizationManager@4372c444
2025-03-11T01:41:12.492-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Did not set SecurityContextHolder since already authenticated kleberlz.libraryapi.security.CustomAuthentication@389addf3
2025-03-11T01:41:12.492-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /clients
2025-03-11T01:41:12.492-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/clients", parameters={}
2025-03-11T01:41:12.492-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to kleberlz.libraryapi.controller.ClientController#salvar(Client)
2025-03-11T01:41:12.553-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [Client(id=null, clientId=postman3-client, clientSecret=postman3-secret, redirectURI=http://localhost (truncated)...]
2025-03-11T01:41:12.562-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public void kleberlz.libraryapi.controller.ClientController.salvar(kleberlz.libraryapi.model.Client); target is of class [kleberlz.libraryapi.controller.ClientController]
2025-03-11T01:41:12.570-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-8] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public void kleberlz.libraryapi.controller.ClientController.salvar(kleberlz.libraryapi.model.Client); target is of class [kleberlz.libraryapi.controller.ClientController]
2025-03-11T01:41:12.570-03:00  INFO 17908 --- [libraryapi] [http-nio-8080-exec-8] k.l.controller.ClientController          : Registrando novo Client: postman3-client com scope: GERENTE 
2025-03-11T01:41:12.708-03:00 DEBUG 17908 --- [libraryapi] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-03-11T01:41:12.709-03:00 TRACE 17908 --- [libraryapi] [http-nio-8080-exec-8] o.s.s.w.header.writers.HstsHeaderWriter  : Not injecting HSTS header since it did not match request to [Is Secure]
